{"version":3,"sources":["components/0_atoms/box/box.tsx","components/0_atoms/button/button.tsx","components/0_atoms/buttons/buttons.tsx","services/amend/amend.ts","services/text/text.ts","services/title/title.ts","services/time/time.ts","services/password/password.ts","services/uiEffect/uiEffectInput.ts","components/0_atoms/clock/clock.tsx","components/0_atoms/column/column.tsx","components/0_atoms/columns/columns.tsx","components/0_atoms/divider/divider.tsx","components/0_atoms/grid/grid.tsx","components/0_atoms/icon/icon.tsx","components/0_atoms/notification/notification.tsx","components/0_atoms/progress/progress.tsx","components/0_atoms/spacer/spacer.tsx","components/0_atoms/link/link.tsx","components/0_atoms/hero/hero.tsx","components/0_atoms/tag/tag.tsx","components/0_atoms/input/input.tsx","components/0_atoms/background/background.tsx","components/0_atoms/logo/logo.tsx","components/0_atoms/avatar/avatar.tsx","components/0_atoms/tags/tags.tsx","components/0_atoms/card/cardHeader.tsx","components/0_atoms/card/cardFooter.tsx","components/0_atoms/card/card.tsx","components/0_atoms/diffPreview/diffPreview.tsx","components/0_atoms/media/media.tsx","components/0_atoms/gravatar/gravatar.tsx","components/0_atoms/modal/modal.tsx","components/0_atoms/select/helper.ts","components/1_molecules/amend/amend.tsx","components/1_molecules/stopWatch/stopWatch.tsx","components/1_molecules/countDown/countDown.tsx","components/1_molecules/notificationAlert/notificationAlert.tsx","components/1_molecules/notificationSettings/notificationSettings.tsx","components/1_molecules/pwdForm/pwdForm.tsx","components/1_molecules/warningAlert/warningAlert.tsx","components/1_molecules/confirmAlert/confirmAlert.tsx","hooks/useToggle/useToggle.tsx","hooks/useAlert/useAlert.tsx","helpers/callAll/callAll.ts","helpers/events/events.ts","helpers/arguments/arguments.ts","components/1_molecules/updateEmail/updateEmail.tsx","components/1_molecules/updatePassword/updatePassword.tsx","components/1_molecules/dropdown/dropdown.tsx","components/1_molecules/vote/vote.tsx","helpers/cardEvent/cardEvent.ts","components/1_molecules/tabs/tabs.tsx","components/1_molecules/tabs/helper.ts","hooks/useTabs/useTabs.tsx","config/i18n/i18n.ts","config/routes/routes.ts","config/i18n/translations.ts","components/1_molecules/proposeAmend/proposeAmend.tsx","components/1_molecules/followText/followText.tsx","components/1_molecules/unFollowText/unFollowText.tsx","components/1_molecules/resultBar/helper.ts","components/1_molecules/resultBar/resultBar.tsx","components/1_molecules/collapse/collapse.tsx","components/1_molecules/loginForm/loginForm.tsx","components/1_molecules/subscribeForm/subscribeForm.tsx","components/1_molecules/resultFooter/resultFooter.tsx","components/1_molecules/editArgument/editArgument.tsx","components/1_molecules/argument/argument.tsx","components/2_organisms/deleteAccount/deleteAccount.tsx","components/2_organisms/eventRow/eventRow.tsx","components/2_organisms/textEventCard/textEventCard.tsx","components/2_organisms/amendEventCard/amendEventCard.tsx","components/2_organisms/resultEventCard/helper.ts","components/2_organisms/resultEventCard/resultEventCard.tsx","components/2_organisms/authentificationForm/authentificationForm.tsx","components/2_organisms/argumentRow/argumentRow.tsx","components/3_templates/alerts/alerts.tsx","components/3_templates/edit/edit.tsx","components/3_templates/navbar/navbar.tsx","components/3_templates/navtabs/navtabs.tsx","components/3_templates/userCredentials/userCredentials.tsx","components/3_templates/eventsList/helper.ts","components/3_templates/eventsList/eventsList.tsx","components/3_templates/profilCard/profilCard.tsx","components/3_templates/otherLinksCard/otherLinksCard.tsx","components/3_templates/argumentsModal/helpers.ts","components/3_templates/argumentsModal/argumentModal.tsx","components/3_templates/infiniteList/infiniteList.tsx","components/3_templates/argumentsList/helper.ts","components/3_templates/argumentsList/argumentList.tsx","components/4_pages/activate/activate.tsx","components/4_pages/code/code.tsx","components/4_pages/create/create.tsx","components/4_pages/contributors/contributors.tsx","components/4_pages/edit/edit.tsx","components/4_pages/home/home.tsx","components/4_pages/legal/legal.tsx","components/4_pages/profile/profile.tsx","components/4_pages/error/error.tsx","components/4_pages/pending/pending.tsx","components/4_pages/reset/reset.tsx","components/4_pages/share/share.tsx","components/4_pages/authentification/authentification.tsx","components/4_pages/texts/texts.tsx","components/4_pages/votes/votes.tsx","components/4_pages/results/results.tsx","components/5_contexts/data/data.tsx","components/5_contexts/notifications/notifications.tsx","components/5_contexts/user/store.ts","components/5_contexts/user/user.tsx","components/5_contexts/i18n/i18n.tsx","components/5_contexts/events/events.tsx","components/5_contexts/api/api.tsx","components/6_layouts/layout/layout.tsx","components/6_layouts/page/page.tsx","components/6_layouts/private/private.tsx","components/6_layouts/providers/providers.tsx","components/6_layouts/card/card.tsx","components/7_hocs/withEventCard/withEventCard.tsx","worker/index.ts","index.tsx","components/6_layouts/router/router.tsx"],"names":["React","memo","_ref","children","_ref$className","className","rest","Object","objectWithoutProperties","react_default","a","createElement","Fragment","assign","Button","to","disabled","react_router_dom","Buttons","Amend","classCallCheck","this","isVoted","user","amend","upVotes","indexOf","id","downVotes","indVotes","Text","hasOpenAmend","amends","filter","closed","length","hasOpenAmendUnvoted","Title","TitleService","applicationTitle","_pageTitle","_badgeCount","updateTitle","document","title","documentTitle","img","favicon","querySelector","setAttribute","head","appendChild","newPageTitle","newBadgeCount","updateFavicon","concat","Time","convertMsToTime","milliSeconds","seconds","Math","floor","days","hours","minutes","getTimeSpent","date","from","arguments","undefined","Date","isString","getTime","getTimeLeft","toTimeString","time","toDateString","data","language","options","getFullYear","now","month","day","year","toLocaleDateString","addTimeToDate","isNegative","Password","createClass","key","value","password1","password2","password","UiEffectInput","isValid","inputValue","customCssColor","true","false","Clock","_useState","useState","_useState2","slicedToArray","clock","setClock","_useState3","_useState4","setTime","actualLanguage","useContext","I18nContext","useEffect","start","stop","intervalDelay","timeToDisplay","window","setInterval","newTime","clearInterval","Column","Columns","Divider","content","_ref$vertical","vertical","data-content","Grid","_ref$style","style","_ref$isInline","isInline","objectSpread","display","Icon","type","_ref$size","size","name","styleIcon","nameWithType","Notification","Progress","flex","Link","startsWith","href","target","rel","Hero","subtitle","Input","iconRight","iconLeft","ariaLabel","aria-label","icon_Icon","Background","color","backgroundColor","padding","Logo","version","enableBackground","height","viewBox","width","xmlSpace","xmlnsXlink","animationName","animationDuration","animationIterationCount","animationDelay","transformOrigin","d","Avatar","link","imgUrl","margin","alt","src","marginRight","Header","_ref2","_ref3","Footer","Item","Card","Image","Content","DiffPreview","text","measure","diffs","setDiffs","currentDiffs","previousText","index","applyPatch","patches","newText","patch","diffLines","computeDiff","lineCounter","map","part","i","added","removed","split","line","arr","j","paddingRight","paddingLeft","Media","Left","Right","_ref4","Gravatar","email","hash","md5","trim","toLowerCase","url","String","borderRadius","boxShadow","ModalContext","createContext","useModalContext","context","Error","ModalContainer","on","set","Provider","toggler","Modal","_ref2$className","modal_Close","Close","_ref5","_ref5$active","active","onClick","event","stopPropagation","cursor","Trigger","_ref4$active","StopWatch","CountDown","NotificationAlert","notificationsContext","NotificationsContext","userContext","useUser","isConnected","permission","notification_Notification","textDecoration","border","font","requestPermission","NotificationSettings","Socket","ApiContext","change","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetch","emit","checked","notifications","onChange","htmlFor","mapKeyToTitle","displayHelper","message","PwdForm","pwdValid","pwdSame","checkPassword","placeholder","autoComplete","isLengthPasswordValid","setColor","isSamePassword","WarningAlert","ConfirmAlert","onConfirm","onCancel","marginTop","useToggle","initialValue","setOn","useCallback","oldOn","useAlert","initialOn","_useToggle","openAlert","closeAlert","showAlert","callAll","_len","fcts","Array","_key","_arr","_i","fct","_args","apply","getEventTarget","get","getListTargets","events","isTargetLoaded","filterEventsByUserTextFollowed","textId","followedTexts","includes","isUserFollowText","isRelatedToUserFollowedText","hasUserDownVote","userUnVote","amendID","argumentID","find","vote","hasUserUpVote","userUpVote","UpdateEmail","_useAlert","setEmail","error","setError","off","reset","warningAlert_WarningAlert","confirmAlert_ConfirmAlert","catch","err","console","onSubmit","preventDefault","marginBottom","UpdatePassword","setPassword","setCheckPassword","_useState5","_useState6","setPwdSame","_useState7","_useState8","setPwdValid","field","validInput","then","pwdForm_PwdForm","DropDownContext","open","drop","navbar","isHoverable","useDropDownContext","DropDown","_ref$navbar","_ref$isHoverable","setOpen","oldOpen","useMemo","Menu","role","_useDropDownContext2","icon","_useDropDownContext4","aria-hidden","Vote","isUp","isDown","match","_ref$withIcon","withIcon","translate","textID","_x","isVoteInAmend","votes","amendId","propsVoteUp","container","background","marginLeft","propsVoteDown","params","top","position","results","upVotesCount","downVotesCount","TabsContext","useTabsContext","Tabs","tabs","tabsName","location","defaultTab","_useTabs","initialIndex","infinite","_React$useState","_React$useState2","selectedTab","setSelectedTab","selectPreviousTab","targetIndex","selectNextTab","useTabs","indexDefaultTab","URLSearchParams","search","eventHandler","addEventListener","removeEventListener","Tab","_useTabsContext","props","for","withID","pathname","routes","path","exact","private","reduce","acc","route","defineProperty","translations","HOME","FR","EN","HOME_TITLE","HOME_SUBTITLE","MY_PROFILE","LOGIN","REGISTER","ETHIC_CODE","CONTRIBUTORS","LEGAL_MENTIONS","SOURCES","NEWS","TEXTS","TEXTS_LIST","ADD_A_TEXT","SEARCH_A_TEXT","OUR_MOTIVATIONS","ETHIC_CODE_1_1","ETHIC_CODE_1_2","ETHIC_CODE_1_3","ETHIC_CODE_2_1","ETHIC_CODE_2_2","ETHIC_CODE_2_3","ETHIC_CODE_3_1","ETHIC_CODE_3_2","ETHIC_CODE_3_3","SIGN_OUT","NOTIFICATIONS","MY_DATA","PARAMETERS","MY_DATA_PROFILE_TEXT","CONTRIBUTORS_THANKS","CONTRIBUTE_GITHUB","THANKS_TO_USERS","THANKS_TO_TOOLS","HOST_CONTACT_DETAILS","HOST_BY","ERROR","TEXT","AMEND","RESULT","NEW_EVENTS","EVENTS_LIST","MARK_AS_READ","OLD_EVENTS","VOTE","ARGUMENTS","RULES","HISTORY","AMENDS","ABOUT","UP_VOTE","DOWN_VOTE","IND_VOTE","RES_UP_VOTE","RES_DOWN_VOTE","RES_IND_VOTE","RES_TOTAL_VOTE","BACK_HOME","EXPLORE","PROFILE","RESULTS","VOTES","ProposeAmend","edit","FollowText","followersCount","UnFollowText","createLinearGradientFromResult","pourcentageVote","up","down","ind","ResultBar","result","totalVote","toFixed","getPourcentageVote","justifyContent","alignItems","fontSize","WebkitAppearance","backgroundImage","max","CollapseContext","useCollapseContext","Collapse","_ref$isOpen","isOpen","_useCollapseContext","_onClick","toString","Detail","LoginForm","render","redirectToRefferer","_useUser","login","errorAuth","submit","react_router","state","home","autoFocus","SubscribeForm","_useState9","_useState10","_useState11","send","register","ResultFooterCard","indVotesCount","vote_Vote","EditArgument","firstStep","setFirstStep","_React$useState3","_React$useState4","setType","_React$useState5","_React$useState6","setText","changeType","rows","Argument","upVoteArgument","downVoteArgument","media_Media","flexDirection","argumentUpVotes","argumentDownVotes","bottom","created","wordBreak","DeleteAccountMessage","DeleteAccount","logout","deleteAccount","deleteAccount_DeleteAccountMessage","EventRow","isNew","modal_ModalContainer","withEventCard","TextEventCard","AmendEventCard","ResultEventCard","displayRightEvent","argumentModal_ArgumentModal","card_CardLayout","Description","wordSpacing","description","actual","collapse_Collapse","proposeAmend_ProposeAmend","unFollowText_UnFollowText","followText_FollowText","isTooLongPatch","DataContext","rules","delayMax","resultFooter_ResultFooterCard","getColorTextFromResult","conflicted","accepted","getTextFromResult","AuthentificationForm","loginToggle","subscribeToggle","displayLogin","displaySubscribe","loginToggleState","loginToggler","subscribeToggler","loginForm_LoginForm","subscribeToggleState","subscribeForm_SubscribeForm","ArgumentRow","argument_Argument","Alerts","notificationAlert_NotificationAlert","Edit","amendName","setAmendName","amendDescription","setAmendDescription","redirectToAmend","setRedirectToAmend","_React$useState7","_React$useState9","_React$useState10","amendValue","setAmendValue","_React$useState11","_React$useState13","_React$useState14","setPatch","debounce","createPatch","hasDiffs","postAmend","required","amend_amend_Amend","endsWith","Navbar","i18nContext","burgerIsActive","setBurgerActive","hasNextPage","EventsContext","fill","aria-expanded","data-target","dispatch","payload","Navtabs","useLocation","_React$useContext3","newEvents","newEventsCount","badgeCount","data-badge","texts","authentification","UserCredentials","updateEmail_UpdateEmail","updatePassword_UpdatePassword","deleteAccount_DeleteAccount","isRowLoaded","loadMoreRows","lastEventDate","last","isEventNew","cache","CellMeasurerCache","fixedWidth","rowRenderer","parent","es","columnIndex","rowIndex","eventRow_EventRow","EventsList","infiniteList_InfiniteList","card_Card","ProfilCard","isConnectionPending","gridTemplateColumns","gridTemplateRows","authentificationForm_AuthentificationForm","OtherLinksCard","code","contributors","legal","compare","b","getListArgumentsWithPopularSorting","args","sortedArgumments","sortedArgs","sort","sortArgumentsByUpVote","indexUpArgument","findIndex","argument","indexDownArgument","getIndexMostFamousDownArgument","popularArguments","push","splice","ArgumentModal","amendEventCard_AmendEventCard","argumentList_ArgumentsList","editArgument_EditArgument","InfiniteList","_ref$isWindowScroller","isWindowScroller","refList","useRef","rowCount","onRowsRendered","isScrolling","scrollTop","onChildScroll","disableHeight","onResize","clearAll","current","recomputeRowHeights","autoHeight","ref","onScroll","deferredMeasurementCache","rowHeight","estimatedRowSize","overscanRowCount","argumentRow_ArgumentRow","ArgumentsList","ActivatePage","pending","setPending","activated","setActivated","activationToken","page_Page","CodePage","CreatePage","setName","setDescription","redirect","setRedirect","_React$useState8","confirm","_callee2","_context2","isHuman","contributor","isBot","AvatarCell","html_url","avatar_url","AvatarsRow","isType","flexWrap","ContributorsPage","setContributors","Consumer","EditPage","edit_Edit","error_ErrorPage","HomePage","eventsTargets","filteredEvents","eventsList_EventsList","LegalPage","ProfilePage","tabs_Tabs","notificationSettings_NotificationSettings","userCredentials_UserCredentials","defaultError","ErrorPage","_ref$error","PendingPage","ResetPage","setSend","maxWidth","SharePage","home_HomePage","AuthentificationPage","profilCard_ProfilCard","TextsPage","create","VotesPage","ResultsPage","DataProviderCore","_this","possibleConstructorReturn","getPrototypeOf","call","listeners","listener","join","setState","prevState","newState","toConsumableArray","Set","forEach","Component","NotificationsProvider","_React$Component","redirectTo","body","onclick","profile","inherits","initialState","userReducer","action","setUserAction","setErrorAuthAction","setIsConnectionPendingAction","isPending","UserContext","availableLanguages","keys","defaultLanguage","lang","localStorage","getItem","navigator","toUpperCase","getInitialLanguage","reducer","setItem","Layout","navbar_Navbar","navtabs_Navtabs","alerts_Alerts","gridGap","otherLinksCard_OtherLinksCard","Page","scroll","pageTitle","PrivateRoute","component","pending_PendingPage","providers","_React$useReducer","useReducer","_React$useReducer2","process","REACT_APP_API_URL","apiUrl","setApiUrl","insecureSocket","io","secureSocket","callback","token","Promise","resolve","reject","res","warn","getSocket","removeItem","data_DataProviderCore","previousState","unshift","uniqBy","notSameID","eventId","remove","Providers","reduceRight","CardLayout","gridArea","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","ReactDOM","providers_Providers","layout_Layout","Pages","capitalize","private_PrivateRoute","getElementById","URL","origin","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.15ffa237.chunk.js","sourcesContent":["import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Additional CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Box = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <React.Fragment>\r\n      <div className={'is-hidden-mobile box ' + className} {...rest}>\r\n        {children}\r\n      </div>\r\n      <div className={'is-hidden-tablet ' + className} {...rest}>\r\n        {children}\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n)\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport interface IProps {\r\n  /** Children nodes */\r\n  children?: React.ReactNode\r\n  /** CSS style */\r\n  style?: React.CSSProperties\r\n  /** onClick event */\r\n  onClick?: any\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  disabled?: boolean\r\n  title?: string\r\n  type?: 'button' | 'submit' | 'reset' | undefined\r\n  /** Path */\r\n  to?: string\r\n}\r\n\r\nexport const Button = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) =>\r\n    rest.to && !rest.disabled ? (\r\n      <Link to={rest.to} className={'button ' + className} {...rest}>\r\n        {children}\r\n      </Link>\r\n    ) : (\r\n      <button className={'button ' + className} {...rest}>\r\n        {children}\r\n      </button>\r\n    )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Custom CSS  */\r\n  style?: React.CSSProperties\r\n  /** additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\nexport const Buttons = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <div className={'buttons ' + className} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","/**\r\n * This service will help to manage Amend\r\n */\r\nexport class Amend {\r\n  public static isVoted = (user: any) => (amend: any) =>\r\n    user.upVotes.indexOf(amend.id) >= 0 ||\r\n    user.downVotes.indexOf(amend.id) >= 0 ||\r\n    user.indVotes.indexOf(amend.id) >= 0\r\n}\r\n","import { Amend } from '../../services'\r\n\r\n/**\r\n * This service will help to manage Text\r\n */\r\nexport class Text {\r\n  public static hasOpenAmend = (amends: any) =>\r\n    amends.filter((amend: any) => !amend.closed).length > 0\r\n\r\n  public static hasOpenAmendUnvoted = (user: any) => (amends: any) =>\r\n    amends\r\n      .filter((amend: any) => !amend.closed)\r\n      .filter((amend: any) => !Amend.isVoted(user)(amend)).length > 0\r\n}\r\n","class TitleService {\r\n  private applicationTitle = 'Emendare'\r\n  private _pageTitle: string | undefined\r\n  private _badgeCount: number = 0\r\n\r\n  constructor() {\r\n    this.updateTitle()\r\n  }\r\n\r\n  set pageTitle(newPageTitle: string) {\r\n    this._pageTitle = newPageTitle\r\n    this.updateTitle()\r\n  }\r\n\r\n  set badgeCount(newBadgeCount: number) {\r\n    this._badgeCount = newBadgeCount\r\n    this.updateFavicon(\r\n      this._badgeCount > 0\r\n        ? '/images/favicon-indicator.png'\r\n        : '/images/favicon.png'\r\n    )\r\n    this.updateTitle()\r\n  }\r\n\r\n  get documentTitle(): string {\r\n    return `${this._badgeCount > 0 ? `(${this._badgeCount}) ` : ''}${\r\n      this.applicationTitle\r\n    }${this._pageTitle ? ` / ${this._pageTitle}` : ''}`\r\n  }\r\n\r\n  private updateTitle() {\r\n    document.title = this.documentTitle\r\n  }\r\n\r\n  private updateFavicon(img: string) {\r\n    let favicon = document.querySelector('link[rel=\"shortcut icon\"]')\r\n\r\n    if (!favicon) {\r\n      favicon = document.createElement('link')\r\n      favicon.setAttribute('rel', 'shortcut icon')\r\n      const head = document.querySelector('head')\r\n      if (head) {\r\n        head.appendChild(favicon)\r\n      }\r\n    }\r\n\r\n    favicon.setAttribute('type', 'image/png')\r\n    favicon.setAttribute('href', img)\r\n  }\r\n}\r\n\r\nexport const Title = new TitleService()\r\n","import { ITime } from '../../../../interfaces'\r\nimport isString from 'lodash/isString'\r\n\r\n/**\r\n * This service will help to manage Time\r\n */\r\nexport class Time {\r\n  /**\r\n   * Retrieve the value of sec, min and hrs of a timestamp\r\n   * @param {number} milliSeconds\r\n   */\r\n  public static convertMsToTime = (milliSeconds: number): ITime => {\r\n    let seconds = Math.floor(milliSeconds / 1000)\r\n    const days = Math.floor(seconds / 86400)\r\n    const hours = Math.floor((seconds - days * 86400) / 3600)\r\n    const minutes = Math.floor((seconds - days * 86400 - hours * 3600) / 60)\r\n\r\n    // Re-calculate seconds\r\n    seconds = seconds - (minutes * 60 + hours * 3600 + days * 86400)\r\n    return { seconds, minutes, hours, days }\r\n  }\r\n\r\n  /**\r\n   * Calculate the time spent between now and a date\r\n   * @param {string || Date} date\r\n   */\r\n  public static getTimeSpent = (date: string | Date, from = new Date()) => {\r\n    if (isString(date)) {\r\n      date = new Date(date)\r\n    }\r\n    return Math.floor(from.getTime() - date.getTime())\r\n  }\r\n\r\n  /**\r\n   * Calculate the time left between now and a date\r\n   * @param {string || Date} date\r\n   * @param {number} delay\r\n   */\r\n  public static getTimeLeft = (date: string | Date, from = new Date()) => {\r\n    if (isString(date)) {\r\n      date = new Date(date)\r\n    }\r\n    return Math.floor(date.getTime() - from.getTime())\r\n  }\r\n\r\n  /**\r\n   * Convert an object of time (sec, min, hrs) to an adaptable string\r\n   * @param {ITime} time\r\n   * @param {string} defaultView\r\n   */\r\n  public static toTimeString = (time: ITime) => {\r\n    if (time.days > 0) {\r\n      return `${time.days} j`\r\n    } else if (time.hours > 0) {\r\n      return `${time.hours} h`\r\n    } else if (time.minutes > 0) {\r\n      return `${time.minutes} min`\r\n    } else if (time.seconds > 0) {\r\n      return `${time.seconds} sec`\r\n    } else {\r\n      return '0 sec'\r\n    }\r\n  }\r\n\r\n  public static toDateString = (data: Date | string, language: string) => {\r\n    const date = new Date(data)\r\n    const year = date.getFullYear()\r\n    const options =\r\n      year !== new Date(Date.now()).getFullYear()\r\n        ? {\r\n            month: 'long',\r\n            day: 'numeric',\r\n            year: 'numeric'\r\n          }\r\n        : {\r\n            month: 'long',\r\n            day: 'numeric'\r\n          }\r\n    const dateString = date.toLocaleDateString(\r\n      language === 'FR' ? 'fr-FR' : 'en-EN',\r\n      options\r\n    )\r\n    return dateString\r\n  }\r\n\r\n  /**\r\n   * Add time to a Date\r\n   * @param {Date || string} date\r\n   * @param {number} time\r\n   */\r\n  public static addTimeToDate = (date: string | Date, time: number) => {\r\n    if (isString(date)) {\r\n      date = new Date(date)\r\n    }\r\n    return new Date(date.getTime() + time)\r\n  }\r\n\r\n  /**\r\n   * Return true if the time is equal or less to 0 else false\r\n   * @param {ITime} time\r\n   */\r\n  public static isNegative = (time: ITime) =>\r\n    time.seconds < 0 ||\r\n    time.minutes < 0 ||\r\n    time.hours < 0 ||\r\n    time.days < 0 ||\r\n    (time.seconds === 0 &&\r\n      time.minutes === 0 &&\r\n      time.hours === 0 &&\r\n      time.days === 0)\r\n}\r\n","/**\r\n * Service to check the validity of a password\r\n */\r\nexport class Password {\r\n  /**\r\n   * Return true if password1 is equal to password2\r\n   * @param password1\r\n   * @param password2\r\n   */\r\n  public static isSamePassword(password1: string, password2: string) {\r\n    if (!password1 || !password2) {\r\n      return false\r\n    } else {\r\n      return password1 === password2\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return true if the password1 length is superior to the minimum length\r\n   * @param password1\r\n   * @param length minimum length\r\n   */\r\n  public static isLengthPasswordValid(password: string, length: number = 8) {\r\n    if (!password) {\r\n      return false\r\n    } else {\r\n      return password.length >= length\r\n    }\r\n  }\r\n}\r\n","export class UiEffectInput {\r\n  /**\r\n   * Set the color on the input according to the validity of it\r\n   * @param isValid true if the input value is valid\r\n   * @param inputValue the value of the input\r\n   * @param customCssColor user can pass some custom css color\r\n   */\r\n  public static setColor(\r\n    isValid: boolean,\r\n    inputValue: any,\r\n    customCssColor?: { true: string; false: string }\r\n  ) {\r\n    if (inputValue || inputValue === 0) {\r\n      if (isValid) {\r\n        if (customCssColor && customCssColor.true) {\r\n          return customCssColor.true\r\n        } else {\r\n          return 'is-success'\r\n        }\r\n      } else {\r\n        if (customCssColor && customCssColor.false) {\r\n          return customCssColor.false\r\n        } else {\r\n          return 'is-danger'\r\n        }\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react'\r\n// Services\r\nimport { Time } from '../../../services'\r\n// Interfaces\r\nimport { ITime } from '../../../../../interfaces'\r\n// Components\r\nimport { I18nContext } from '../../../components'\r\n\r\ninterface IClockProps {\r\n  date: Date | string\r\n  className?: string\r\n}\r\n\r\n/**\r\n * HOC which update a time object {sec: number, min:number, hrs: number}\r\n * each second when the time is under 1 min else each minute\r\n *\r\n *  @param {function} getTime  provides a time object\r\n */\r\nexport const Clock = (getTime: any) => ({ date, ...rest }: IClockProps) => {\r\n  const [clock, setClock] = useState(0)\r\n  const [time, setTime] = useState(getTime(date))\r\n  const { actualLanguage } = useContext(I18nContext)\r\n\r\n  useEffect(() => {\r\n    start()\r\n    return stop\r\n  }, [])\r\n\r\n  const start = (intervalDelay: number = 1000) => {\r\n    const timeToDisplay: ITime = getTime(date)\r\n\r\n    const second = 1000\r\n    const minute = 60 * second\r\n    const hour = 60 * minute\r\n    const day = 24 * hour\r\n\r\n    intervalDelay =\r\n      timeToDisplay.days > 0\r\n        ? day\r\n        : timeToDisplay.hours > 0\r\n        ? hour\r\n        : timeToDisplay.minutes > 0\r\n        ? minute\r\n        : timeToDisplay.seconds > 0\r\n        ? second\r\n        : intervalDelay\r\n\r\n    setClock(\r\n      window.setInterval(() => {\r\n        const newTime: ITime = getTime(date)\r\n        if (Time.isNegative(newTime) || time.days > 7) {\r\n          stop()\r\n        } else {\r\n          setTime(newTime)\r\n        }\r\n      }, intervalDelay)\r\n    )\r\n  }\r\n\r\n  const stop = () => {\r\n    if (clock) {\r\n      clearInterval(clock)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <span {...rest}>\r\n      {time.days <= 7\r\n        ? Time.toTimeString(time)\r\n        : Time.toDateString(date, actualLanguage)}\r\n    </span>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class  */\r\n  className?: string\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Column = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <div className={'column ' + className} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Columns = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <div className={'columns ' + className} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  content?: string\r\n  className?: string\r\n  vertical?: boolean\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Divider = React.memo(\r\n  ({ content, vertical = false, className = '', ...rest }: IProps) => (\r\n    <div\r\n      className={\r\n        (vertical ? 'is-divider-vertical ' : 'is-divider ') + className\r\n      }\r\n      data-content={content}\r\n      {...rest}\r\n    />\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Custom CSS */\r\n  style?: React.CSSProperties\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /* Set inline-grid*/\r\n  isInline?: boolean\r\n}\r\n\r\nexport const Grid = React.memo(\r\n  ({\r\n    children,\r\n    className = '',\r\n    style = {},\r\n    isInline = false,\r\n    ...rest\r\n  }: IProps) => (\r\n    <div\r\n      className={`${className}`}\r\n      style={{ ...style, display: isInline ? 'inline-grid' : 'grid' }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Type of the icon */\r\n  type?: 'solid' | 'regular' | 'light' | 'brands'\r\n  /** Additional CSS UI class */\r\n  size?: string\r\n  /** Name of the icon */\r\n  name: string\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Title to display when onHover */\r\n  title?: string\r\n  /** Style CSS Icon */\r\n  styleIcon?: React.CSSProperties\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Icon = React.memo(\r\n  ({\r\n    type,\r\n    size = '',\r\n    name,\r\n    style,\r\n    styleIcon,\r\n    className = '',\r\n    ...rest\r\n  }: IProps) => {\r\n    let nameWithType = name\r\n    switch (type) {\r\n      case 'solid':\r\n        nameWithType = nameWithType + ' fas'\r\n        break\r\n      case 'regular':\r\n        nameWithType = nameWithType + ' far'\r\n        break\r\n      case 'light':\r\n        nameWithType = nameWithType + ' fal'\r\n        break\r\n      case 'brands':\r\n        nameWithType = nameWithType + ' fab'\r\n        break\r\n      default:\r\n        nameWithType = nameWithType + ' fal'\r\n        break\r\n    }\r\n\r\n    return (\r\n      <span className={'icon ' + className} style={style} {...rest}>\r\n        <i className={nameWithType + ' ' + size} style={styleIcon} />\r\n      </span>\r\n    )\r\n  }\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** onClick event */\r\n  onClick?: any\r\n  /** Custom CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Notification = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <div className={'notification ' + className} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Set value to the progress */\r\n  value?: number\r\n  /** Set a maximum */\r\n  max?: number\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Progress = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <progress className={'progress ' + className} {...rest}>\r\n      {children}\r\n    </progress>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Addtional CSS UI class */\r\n  className?: string\r\n}\r\n\r\nexport const Spacer = React.memo(({ className = '' }: IProps) => (\r\n  <div className={className} style={{ flex: 1 }} />\r\n))\r\n","import React from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport startsWith from 'lodash/startsWith'\r\n\r\ninterface IProps {\r\n  children: React.ReactNode\r\n  style?: React.CSSProperties\r\n  onClick?: any\r\n  className?: string\r\n  title?: string\r\n  to?: any\r\n}\r\n\r\nexport const Link = React.memo(({ children, title, to, ...rest }: IProps) =>\r\n  to ? (\r\n    startsWith(to, 'http') ? (\r\n      <a href={to} title={title} target=\"_blank\" rel=\"noreferrer\" {...rest}>\r\n        {children}\r\n      </a>\r\n    ) : (\r\n      <RouterLink to={to} title={title} {...rest}>\r\n        {children}\r\n      </RouterLink>\r\n    )\r\n  ) : (\r\n    <a href=\"javascript:void(0)\" title={title} {...rest}>\r\n      {children}\r\n    </a>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Subtitle of the banner */\r\n  subtitle?: React.ReactElement | string\r\n  /** Title of the banner */\r\n  title: React.ReactElement | string\r\n  /** Style css */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Hero = React.memo(\r\n  ({ className = '', title, subtitle, ...rest }: IProps) => (\r\n    <section className={'hero ' + className} {...rest}>\r\n      <div className=\"hero-body\">\r\n        <h1 className=\"title\">{title}</h1>\r\n        {subtitle && <h2 className=\"subtitle\">{subtitle}</h2>}\r\n      </div>\r\n    </section>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS IU class */\r\n  className?: string\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Tag = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <span className={'tag ' + className} {...rest}>\r\n      {children}\r\n    </span>\r\n  )\r\n)\r\n","import React from 'react'\r\nimport { Icon } from '../../../components'\r\n\r\ninterface IProps {\r\n  /** Type of the input */\r\n  type: string\r\n  /** Placeholder of the input */\r\n  placeholder: string\r\n  /** aria-label of the input */\r\n  ariaLabel: string\r\n  /** Set a value to the input */\r\n  value?: any\r\n  /** icon font name to put it in the right of the input */\r\n  iconRight?: string\r\n  /** icon font name to put it in the right of the input */\r\n  iconLeft?: string\r\n  /** onChange event */\r\n  onChange?: any\r\n  /** Possibility to disable the input */\r\n  disabled?: boolean\r\n  /** Id of the input */\r\n  id?: any\r\n  /** Name of the input */\r\n  name?: any\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Autocomplete the input */\r\n  autoComplete?: string\r\n  /** Auto focus the input */\r\n  autoFocus?: boolean\r\n}\r\n\r\nexport const Input = React.memo(\r\n  ({ className, iconRight, iconLeft, ariaLabel, ...rest }: IProps) => {\r\n    return (\r\n      <React.Fragment>\r\n        {iconLeft || iconRight ? (\r\n          <div\r\n            className={`control ${iconLeft && 'has-icons-left '} ${iconRight &&\r\n              'has-icons-right '}`}\r\n          >\r\n            <input\r\n              className={`input ${className}`}\r\n              aria-label={ariaLabel}\r\n              {...rest}\r\n            />\r\n            {iconLeft && <Icon name={iconLeft} className=\"is-medium is-left\" />}\r\n            {iconRight && (\r\n              <Icon name={iconRight} className=\"is-medium is-right\" />\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"control\">\r\n            <input\r\n              className={`input ${className}`}\r\n              aria-label={ariaLabel}\r\n              {...rest}\r\n            />\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n)\r\n","import React from 'react'\r\n\r\ninterface IBackgroundProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Color of the background */\r\n  color?: string\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** CSS style */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Background = React.memo(\r\n  ({ children, color, ...rest }: IBackgroundProps) => (\r\n    <div style={{ backgroundColor: color, padding: '1.5rem' }} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface IBackgroundProps {\r\n  /** Logo size */\r\n  size?: number\r\n  /** Style properties */\r\n  style?: React.CSSProperties\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\nexport const Logo = React.memo(({ size = 100, ...rest }: IBackgroundProps) => (\r\n  <svg\r\n    version=\"1.1\"\r\n    enableBackground={`new 0 0 100 100`}\r\n    height={`${size}px`}\r\n    viewBox={`0 0 100 100`}\r\n    width={`${size}px`}\r\n    xmlSpace=\"preserve\"\r\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n    {...rest}\r\n  >\r\n    <path\r\n      style={{\r\n        animationName: 'bubble',\r\n        animationDuration: '15s',\r\n        animationIterationCount: 'infinite',\r\n        animationDelay: '2s',\r\n        transformOrigin: 'center'\r\n      }}\r\n      d=\"M33,36.89v24h8v8l9-8h17v-24H33z M56,54.39H45c-0.828,0-1.5-0.672-1.5-1.5s0.672-1.5,1.5-1.5h11c0.828,0,1.5,0.672,1.5,1.5  S56.828,54.39,56,54.39z M56,46.39H45c-0.828,0-1.5-0.672-1.5-1.5s0.672-1.5,1.5-1.5h11c0.828,0,1.5,0.672,1.5,1.5  S56.828,46.39,56,46.39z\"\r\n    />\r\n    <path\r\n      style={{\r\n        animationName: 'rotate',\r\n        animationDuration: '15s',\r\n        animationIterationCount: 'infinite',\r\n        animationDelay: '3s',\r\n        transformOrigin: 'center'\r\n      }}\r\n      d=\"M84.049,66.2c2.348-4.909,3.672-10.401,3.672-16.201C87.72,29.227,70.883,12.391,50.109,12.39  c-7.839-0.001-15.132,2.403-21.158,6.51c-0.685,0.467-0.861,1.4-0.395,2.085c0.466,0.685,1.399,0.861,2.084,0.396v-0.001  c5.55-3.779,12.245-5.989,19.469-5.989c9.563,0.001,18.206,3.871,24.475,10.137c6.266,6.268,10.136,14.91,10.137,24.473  c0,5.213-1.158,10.149-3.221,14.579L73,59.171l1.768,17.719l16.795-5.91L84.049,66.2z\"\r\n    />\r\n    <path\r\n      style={{\r\n        animationName: 'rotate',\r\n        animationDuration: '15s',\r\n        animationIterationCount: 'infinite',\r\n        animationDelay: '3s',\r\n        transformOrigin: 'center'\r\n      }}\r\n      d=\"M71.479,79.15c-0.463-0.688-1.395-0.87-2.082-0.407v-0.001c-5.514,3.707-12.141,5.867-19.287,5.868  c-9.562-0.001-18.205-3.872-24.473-10.138C19.371,68.204,15.501,59.562,15.5,49.999c0-5.153,1.132-10.033,3.15-14.421L27,40.89  l-1.768-17.719l-16.795,5.91l7.662,4.874c-2.302,4.868-3.6,10.305-3.599,16.044c0.001,20.772,16.838,37.61,37.609,37.611  c7.756,0,14.974-2.351,20.961-6.379C71.758,80.77,71.94,79.838,71.479,79.15z\"\r\n    />\r\n  </svg>\r\n))\r\n","import React from 'react'\r\nimport { Link, Icon } from '../../../components'\r\n\r\ninterface IAvatarProps {\r\n  /** Url link when click */\r\n  link: string\r\n  /** Url display image */\r\n  imgUrl: string\r\n  /** Name to display */\r\n  name: string\r\n}\r\n\r\nexport const Avatar = React.memo(({ link, imgUrl, name }: IAvatarProps) => (\r\n  <Link to={link}>\r\n    <figure className=\"image is-128x128\" style={{ margin: 'auto' }}>\r\n      <img alt=\"avatar\" src={imgUrl} className=\"is-rounded\" />\r\n    </figure>\r\n    <p>\r\n      <Icon style={{ marginRight: 8 }} type={'brands'} name={'fa-github'} />\r\n      <span id=\"name\">{name}</span>\r\n    </p>\r\n  </Link>\r\n))\r\n","import React from 'react'\r\n\r\ninterface IProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS IU class */\r\n  className?: string\r\n}\r\n\r\nexport const Tags = React.memo(\r\n  ({ children, className = '', ...rest }: IProps) => (\r\n    <div className={'tags ' + className} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n)\r\n","import React from 'react'\r\n\r\ninterface ICardHeaderProps {\r\n  /** Children nodes */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** CSS style */\r\n  style?: React.CSSProperties\r\n}\r\n\r\n/** Header */\r\nexport const Header = ({ className, children, ...rest }: ICardHeaderProps) => (\r\n  <div className={`card-header ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Title = ({ className, children, ...rest }: ICardHeaderProps) => (\r\n  <div className={`card-header-title ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Icon = ({ className, children, ...rest }: ICardHeaderProps) => (\r\n  <div className={`card-header-icon ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nHeader.Title = Title\r\nHeader.Icon = Icon\r\n","import React from 'react'\r\n\r\ninterface ICardProps {\r\n  /** Children nodes */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** CSS Style */\r\n  style?: React.CSSProperties\r\n}\r\n\r\n/** Footer */\r\nexport const Footer = ({ className, children, ...rest }: ICardProps) => (\r\n  <div className={`card-footer ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Item = ({ className, children, ...rest }: ICardProps) => (\r\n  <div className={`card-footer-item ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nFooter.Item = Item\r\n","import React from 'react'\r\nimport { Header } from './cardHeader'\r\nimport { Footer } from './cardFooter'\r\n\r\ninterface ICardFooterProps {\r\n  /** Children nodes */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Style */\r\n  style?: React.CSSProperties\r\n}\r\n\r\n/** Card */\r\nexport const Card = ({ className, children, ...rest }: ICardFooterProps) => (\r\n  <div className={`card ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\n/** Image */\r\nconst Image = ({ className, children, ...rest }: ICardFooterProps) => (\r\n  <div className={`card-image ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\n/** Content */\r\nconst Content = ({ className, children, ...rest }: ICardFooterProps) => (\r\n  <div className={`card-content ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nCard.Image = Image\r\nCard.Content = Content\r\nCard.Header = Header\r\nCard.Footer = Footer\r\n","// Dependencies\r\nimport { applyPatch, diffLines, Change } from 'diff'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { IAmend, IText } from '../../../../../interfaces'\r\n\r\ninterface IDiffPreviewProps {\r\n  /** Current Amend */\r\n  amend: Partial<IAmend>\r\n  /** Related Text */\r\n  text: IText\r\n  measure?: any\r\n}\r\n\r\nconst computeDiff = (amend: Partial<IAmend>, text: IText) => {\r\n  if (amend && text) {\r\n    let previousText = ''\r\n\r\n    for (let index = 0; index < (amend.version || 0); index++) {\r\n      previousText = applyPatch(previousText, text.patches[index])\r\n    }\r\n\r\n    const newText = applyPatch(previousText, amend.patch || '')\r\n    const diffs = diffLines(previousText, newText)\r\n    return diffs\r\n  }\r\n}\r\n\r\nexport const DiffPreview = React.memo(\r\n  ({ amend, text, measure }: IDiffPreviewProps) => {\r\n    // State\r\n    const [diffs, setDiffs] = useState<Change[]>([])\r\n\r\n    // Effects\r\n    useEffect(() => {\r\n      const currentDiffs = computeDiff(amend, text)\r\n      if (currentDiffs) {\r\n        setDiffs(currentDiffs)\r\n      }\r\n    }, [amend, text])\r\n\r\n    useEffect(() => {\r\n      if (measure && diffs && diffs.length) {\r\n        measure()\r\n      }\r\n    }, [diffs])\r\n\r\n    // Render\r\n    let lineCounter = 0\r\n    return (\r\n      <div>\r\n        {diffs &&\r\n          diffs.map((part, i) => (\r\n            <div\r\n              key={i}\r\n              className={\r\n                !part.added && !part.removed ? 'has-text-grey-light' : ''\r\n              }\r\n            >\r\n              {part.value\r\n                .split('\\n')\r\n                .filter(\r\n                  (line: string, index: number, arr: string[]) =>\r\n                    index < arr.length - 1 || line !== ''\r\n                )\r\n                .map((line: string, j: number, arr: string[]) => {\r\n                  lineCounter++\r\n                  return part.added || part.removed ? (\r\n                    <p\r\n                      key={j}\r\n                      style={{\r\n                        backgroundColor: part.added\r\n                          ? 'rgba(35, 209, 96, 0.15)'\r\n                          : part.removed\r\n                          ? 'rgba(255, 56, 96, 0.15)'\r\n                          : '',\r\n                        paddingRight: '1rem',\r\n                        paddingLeft: '1rem'\r\n                      }}\r\n                    >\r\n                      <span>{lineCounter}&nbsp;|&nbsp;</span>\r\n                      {part.added ? (\r\n                        <React.Fragment>\r\n                          <span\r\n                            className=\"is-size-5 has-text-weight-semibold\"\r\n                            style={{ marginRight: '1.2rem' }}\r\n                          >\r\n                            {'  '}+\r\n                          </span>\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <React.Fragment>\r\n                          <span\r\n                            className=\"is-size-5 \"\r\n                            style={{ marginRight: '1.2rem' }}\r\n                          >\r\n                            {'  '}-\r\n                          </span>\r\n                        </React.Fragment>\r\n                      )}\r\n                      <span>\r\n                        {line || <React.Fragment>&nbsp;</React.Fragment>}\r\n                      </span>\r\n                    </p>\r\n                  ) : (j === 0 && i !== 0) ||\r\n                    (j === 1 && i !== 0 && arr[j] === '') ||\r\n                    (j === arr.length - 1 && i !== diffs.length - 1) ||\r\n                    (j === arr.length - 2 &&\r\n                      i !== diffs.length - 1 &&\r\n                      arr[arr.length - 1] === '') ? (\r\n                    <React.Fragment key={j}>\r\n                      <p style={{ padding: '0 0.5rem 0 0.5rem' }}>\r\n                        <span>{lineCounter}&nbsp;|&nbsp;</span>\r\n                        {line || <React.Fragment>&nbsp;</React.Fragment>}\r\n                      </p>\r\n                      {arr.length > 2 && j === 0 && i !== diffs.length - 1 && (\r\n                        <hr />\r\n                      )}\r\n                    </React.Fragment>\r\n                  ) : null\r\n                })}\r\n            </div>\r\n          ))}\r\n      </div>\r\n    )\r\n  }\r\n)\r\n","import React from 'react'\r\n\r\ninterface IMediaProps {\r\n  /** Children nodes */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Media = ({ children, className, ...rest }: IMediaProps) => (\r\n  <div className={`media ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Content = ({ children, className, ...rest }: IMediaProps) => (\r\n  <div className={`media-content ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Left = ({ children, className, ...rest }: IMediaProps) => (\r\n  <div className={`media-left ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Right = ({ children, className, ...rest }: IMediaProps) => (\r\n  <div className={`media-right ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Item = ({ children, className, ...rest }: IMediaProps) => (\r\n  <div className={`media-item ${className}`} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nMedia.Content = Content\r\nMedia.Left = Left\r\nMedia.Right = Right\r\n","import React from 'react'\r\nimport md5 from 'blueimp-md5'\r\nimport { Link, I18nContext } from '../../../components'\r\n\r\ninterface IGravatarProps {\r\n  /** User email */\r\n  email: string\r\n}\r\n\r\nexport const Gravatar = React.memo(({ email }: IGravatarProps) => {\r\n  const { actualLanguage } = React.useContext(I18nContext)\r\n  const size = 64\r\n  const hash = md5(email.trim().toLowerCase())\r\n  const url = `https://www.gravatar.com/avatar/${hash}?s=${size}`\r\n  return (\r\n    <Link to={`https://${String(actualLanguage).toLowerCase()}.gravatar.com/`}>\r\n      <figure\r\n        className=\"image is-64x64\"\r\n        style={{\r\n          margin: 'auto',\r\n          borderRadius: '50%',\r\n          boxShadow: '0 2px 3px rgba(10,10,10,.1), 0 0 0 1px rgba(10,10,10,.1)'\r\n        }}\r\n      >\r\n        <img alt=\"avatar\" src={url} className=\"is-rounded\" />\r\n      </figure>\r\n    </Link>\r\n  )\r\n})\r\n","import React, { useContext, useState } from 'react'\r\n\r\ninterface IModalProps {\r\n  /** Children nodes */\r\n  children: any\r\n  /** Additional css ui class */\r\n  className?: string\r\n  /** Style CSS */\r\n  style?: React.CSSProperties\r\n  /** Open the modal */\r\n  isOpen?: boolean\r\n  active?: boolean\r\n}\r\n\r\nconst ModalContext = React.createContext<any>({})\r\n\r\nconst useModalContext = () => {\r\n  const context = useContext(ModalContext)\r\n  if (!context) {\r\n    throw new Error('Should be inside the Modal component')\r\n  }\r\n  return context\r\n}\r\n\r\nexport const ModalContainer = ({ children }: IModalProps) => {\r\n  const [on, set] = useState(false)\r\n  const toggler = () => set(!on)\r\n\r\n  return (\r\n    <ModalContext.Provider value={{ on, set, toggler }}>\r\n      {children}\r\n    </ModalContext.Provider>\r\n  )\r\n}\r\n\r\nconst Modal = ({ children, className = '', ...rest }: IModalProps) => {\r\n  const { on } = useModalContext()\r\n  return (\r\n    <div className={`modal ${className} ${on ? 'is-active' : ''}`} {...rest}>\r\n      <Close>\r\n        <div className=\"modal-background\" />\r\n      </Close>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Content = ({ children, ...rest }: IModalProps) => (\r\n  <div\r\n    className=\"modal-content\"\r\n    onClick={event => {\r\n      event.stopPropagation()\r\n    }}\r\n    style={{ cursor: 'auto' }}\r\n    {...rest}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Trigger = ({ children, active = true, ...rest }: IModalProps) => {\r\n  const { toggler } = useModalContext()\r\n  return (\r\n    <div\r\n      {...rest}\r\n      onClick={event => {\r\n        event.stopPropagation()\r\n        if (active) {\r\n          toggler()\r\n        }\r\n      }}\r\n      style={{ cursor: active ? 'pointer' : 'auto' }}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Close = ({ children, active = true, ...rest }: IModalProps) => {\r\n  const { set } = useModalContext()\r\n  return (\r\n    <div\r\n      onClick={event => {\r\n        event.stopPropagation()\r\n        if (active) {\r\n          set(false)\r\n        }\r\n      }}\r\n      style={{ cursor: active ? 'pointer' : 'auto' }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nModalContainer.Modal = Modal\r\n\r\nModal.Content = Content\r\nModal.Close = Close\r\nModal.Trigger = Trigger\r\n","/**\r\n * Return true if the current value is\r\n * @param options list of options\r\n * @param selectedValue current value selected\r\n */\r\nexport const hasSelectedValueInOptions = (\r\n  options: Array<{ value: string; label: string }>,\r\n  selectedValue: string\r\n) =>\r\n  options.find(\r\n    (option: { label: string; value: string }) => option.value === selectedValue\r\n  )\r\n","import React from 'react'\r\nimport { Divider, DiffPreview } from '../../../components'\r\nimport { IAmend, IText } from '../../../../../interfaces'\r\n\r\ninterface IAmendProps {\r\n  /** Current amend object */\r\n  amend?: Partial<IAmend>\r\n  /** Current text object */\r\n  text?: IText\r\n}\r\n\r\nexport const Amend = ({ amend, text }: IAmendProps) => (\r\n  <React.Fragment>\r\n    <Divider content=\"Modifications proposes\" />\r\n    {amend && text && <DiffPreview amend={amend} text={text} />}\r\n  </React.Fragment>\r\n)\r\n","import { Time } from '../../../services'\r\nimport { Clock } from '../../../components'\r\nimport { ITime } from '../../../../../interfaces'\r\n\r\nconst getStopWatchTime = (date: Date | string): ITime =>\r\n  Time.convertMsToTime(Time.getTimeSpent(date))\r\n\r\nexport const StopWatch = Clock(getStopWatchTime)\r\n","import { Time } from '../../../services'\r\nimport { Clock } from '../../../components'\r\n\r\nconst getCountDownTime = (date: Date | string) =>\r\n  Time.convertMsToTime(Time.getTimeLeft(date))\r\n\r\nexport const CountDown: any = Clock(getCountDownTime)\r\n","import React from 'react'\r\nimport {\r\n  Icon,\r\n  Notification,\r\n  NotificationsContext,\r\n  useUser\r\n} from '../../../components'\r\n\r\nexport const NotificationAlert = () => {\r\n  const notificationsContext = React.useContext(NotificationsContext)\r\n  const userContext = useUser()\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {userContext.isConnected() &&\r\n        notificationsContext.permission === 'default' && (\r\n          <Notification\r\n            className=\"is-info has-text-centered is-hidden-mobile\"\r\n            style={{ margin: 0, borderRadius: 0 }}\r\n          >\r\n            <div className=\"container is-fluid\">\r\n              <Icon type={'solid'} name=\"fa-exclamation-circle\" />\r\n              Emendare a besoin de savoir si vous souhaitez{' '}\r\n              <button\r\n                style={{\r\n                  cursor: 'pointer',\r\n                  textDecoration: 'underline',\r\n                  padding: 0,\r\n                  border: 'none',\r\n                  backgroundColor: 'transparent',\r\n                  color: 'inherit',\r\n                  font: 'inherit'\r\n                }}\r\n                title=\"Demander l'autorisation d'activer les notifications\"\r\n                onClick={notificationsContext.requestPermission}\r\n              >\r\n                autoriser ou non les notifications\r\n              </button>\r\n            </div>\r\n          </Notification>\r\n        )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-for */\r\n\r\nimport React from 'react'\r\nimport {\r\n  Button,\r\n  NotificationsContext,\r\n  useUser,\r\n  ApiContext\r\n} from '../../../components'\r\n\r\nexport const NotificationSettings = () => {\r\n  const notificationsContext = React.useContext(NotificationsContext)\r\n  const { user } = useUser()\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const keys = ['newText', 'newAmend', 'amendAccepted', 'amendRefused']\r\n\r\n  const change = (key: string) => async () => {\r\n    await Socket.fetch('toggleNotificationSetting', { key })\r\n    Socket.emit('user')\r\n  }\r\n\r\n  const mapKeyToTitle = (key: string) => {\r\n    switch (key) {\r\n      case 'newText':\r\n        return 'Nouveau texte'\r\n      case 'newAmend':\r\n        return 'Nouvel amendement'\r\n      case 'amendAccepted':\r\n        return 'Amendement accept'\r\n      case 'amendRefused':\r\n        return 'Amendement refus'\r\n      default:\r\n        return 'Cl invalide'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <p className=\"has-text-weight-semibold\">Rglages des notifications</p>\r\n      <br />\r\n      {notificationsContext.permission === 'default' && (\r\n        <React.Fragment>\r\n          <div>\r\n            <Button\r\n              className=\"is-success\"\r\n              onClick={notificationsContext.requestPermission}\r\n            >\r\n              Activer les notifications\r\n            </Button>\r\n          </div>\r\n          <br />\r\n        </React.Fragment>\r\n      )}\r\n      {keys.map(key => (\r\n        <div key={key} className=\"field\">\r\n          <input\r\n            id={key}\r\n            type=\"checkbox\"\r\n            name={key}\r\n            className=\"switch is-rounded is-success\"\r\n            disabled={notificationsContext.permission !== 'granted'}\r\n            checked={\r\n              user ? ((user.notifications as any)[key] as boolean) : false\r\n            }\r\n            onChange={change(key)}\r\n          />\r\n          <label htmlFor={key}>{mapKeyToTitle(key)}</label>\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Input } from '../../../components'\r\nimport { Password, UiEffectInput } from '../../../services'\r\n\r\ninterface IPwdFormProps {\r\n  /** Function to handle onChange event */\r\n  change: any\r\n  /** The current value of the first input */\r\n  password: string\r\n  /** The current value of the second input */\r\n  checkPassword: string\r\n  /** True if the password repect the rules you set */\r\n  pwdValid: boolean\r\n  /** True if the password and the verification password are the same */\r\n  pwdSame: boolean\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\nconst displayHelper = (\r\n  isValid: boolean,\r\n  inputValue: any,\r\n  message: { true: string; false: string }\r\n) => {\r\n  if (inputValue) {\r\n    if (isValid) {\r\n      return <p className=\"help is-success\">{message.true}</p>\r\n    } else {\r\n      return <p className=\"help is-danger\">{message.false}</p>\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nexport const PwdForm = ({\r\n  password,\r\n  pwdValid,\r\n  change,\r\n  pwdSame,\r\n  checkPassword,\r\n  className\r\n}: IPwdFormProps) => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"field\">\r\n        <div className=\"control has-icons-left has-icons-right\">\r\n          <Input\r\n            placeholder=\"Nouveau mot de passe\"\r\n            value={password}\r\n            ariaLabel=\"password input\"\r\n            autoComplete=\"off\"\r\n            onChange={(event: any) =>\r\n              change(\r\n                'password',\r\n                Password.isLengthPasswordValid(event.target.value)\r\n              )(event)\r\n            }\r\n            className={\r\n              `input ${className} ` + UiEffectInput.setColor(pwdValid, password)\r\n            }\r\n            type=\"password\"\r\n            iconLeft=\"fa-lock\"\r\n          />\r\n        </div>\r\n        {displayHelper(pwdValid, password, {\r\n          true: 'Mot de passe valide',\r\n          false: 'Le mot de passe doit contenir au moins 8 charactres'\r\n        })}\r\n      </div>\r\n      <div className=\"field\">\r\n        <div className=\"control has-icons-left has-icons-right\">\r\n          <Input\r\n            placeholder=\"Verification du mot de passe\"\r\n            ariaLabel=\"password verification input\"\r\n            value={checkPassword}\r\n            autoComplete=\"off\"\r\n            onChange={(event: any) =>\r\n              change(\r\n                'checkPassword',\r\n                Password.isSamePassword(password, event.target.value)\r\n              )(event)\r\n            }\r\n            className={\r\n              `input ${className} ` +\r\n              UiEffectInput.setColor(pwdSame, checkPassword)\r\n            }\r\n            type=\"password\"\r\n            iconLeft=\"fa-lock\"\r\n          />\r\n        </div>\r\n        {displayHelper(pwdSame, checkPassword, {\r\n          true: 'Mot de passe valide',\r\n          false: 'Les mots de passe ne sont pas les mmes'\r\n        })}\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Button, Notification } from '../..'\r\n\r\ninterface IWarningAlertProps {\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** onClick Event */\r\n  onClick: any\r\n  /** Message of the alert */\r\n  message: any\r\n}\r\n\r\nexport const WarningAlert = ({\r\n  className,\r\n  onClick,\r\n  message\r\n}: IWarningAlertProps) => (\r\n  <Notification className={className} onClick={onClick}>\r\n    <Button onClick={onClick} className={'delete ' + className} />\r\n    {message}\r\n  </Notification>\r\n)\r\n","import React from 'react'\r\nimport { Notification, Buttons, Button } from '../../../components'\r\n\r\ninterface IConfirmAlert {\r\n  /** The message you want to display */\r\n  message: any\r\n  /** Action to do when the user accept */\r\n  onConfirm: any\r\n  /** Action to do when the user decline */\r\n  onCancel: any\r\n  /** Disable the confirm button */\r\n  disabled?: boolean\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\nexport const ConfirmAlert = ({\r\n  message,\r\n  onConfirm,\r\n  onCancel,\r\n  disabled,\r\n  className\r\n}: IConfirmAlert) => (\r\n  <Notification className={className}>\r\n    {message}\r\n    <div\r\n      style={{ marginTop: '1rem' }}\r\n      className=\"field is-grouped is-grouped-right\"\r\n    >\r\n      <Buttons>\r\n        <Button\r\n          onClick={onCancel}\r\n          className={'button is-inverted is-outlined ' + className}\r\n        >\r\n          Annuler\r\n        </Button>\r\n        <Button\r\n          onClick={onConfirm}\r\n          className={'button is-inverted  ' + className}\r\n          disabled={disabled}\r\n        >\r\n          Confimer\r\n        </Button>\r\n      </Buttons>\r\n    </div>\r\n  </Notification>\r\n)\r\n","/**\r\n * Hook for sharing toggle logic\r\n */\r\nimport { useState, useCallback } from 'react'\r\n\r\nexport const useToggle = (\r\n  initialValue: boolean = false\r\n): { on: boolean; toggler: () => void } => {\r\n  // State\r\n  const [on, setOn] = useState(initialValue)\r\n  // Toggle\r\n  const toggler = useCallback(() => setOn(oldOn => !oldOn), [])\r\n\r\n  return { on, toggler }\r\n}\r\n","import { useToggle } from '../../hooks'\r\nimport { useCallback } from 'react'\r\n\r\nexport const useAlert = (\r\n  initialOn: boolean = false\r\n): { showAlert: boolean; openAlert: any; closeAlert: any } => {\r\n  const { on, toggler } = useToggle(initialOn)\r\n\r\n  const openAlert = useCallback(() => {\r\n    if (!on) {\r\n      toggler()\r\n    }\r\n  }, [on])\r\n\r\n  const closeAlert = useCallback(() => {\r\n    if (on) {\r\n      toggler()\r\n    }\r\n  }, [on])\r\n\r\n  return { showAlert: on, openAlert, closeAlert }\r\n}\r\n","/**\r\n * Return a function that call all the functions\r\n * @param fcts all the function\r\n */\r\nexport const callAll = (...fcts: any) => async (...args: any) => {\r\n  for (const fct of fcts) {\r\n    await fct(...args)\r\n  }\r\n}\r\n","import { IUser, INews, IEvent, IResponse } from '../../../../interfaces'\r\nimport remove from 'lodash/remove'\r\n\r\n/**\r\n * Return an array of events which have not been readed by the user\r\n * @param lastEventDate Last event readed by the user\r\n * @param events List of aall the events\r\n */\r\nexport const getNewEvent = (lastEventDate: any, events: IEvent[]) =>\r\n  lastEventDate && events.length > 0\r\n    ? events.filter(\r\n        (event: any) =>\r\n          new Date(event.created).getTime() > new Date(lastEventDate).getTime()\r\n      )\r\n    : []\r\n\r\n/**\r\n * Delete the event which have been readed by the user from the list\r\n * @param eventId Id of the event\r\n * @param newEvents List of new Events\r\n */\r\nexport const deleteNewEvent = (eventId: string, newEvents: IEvent[]) => {\r\n  if (eventId && newEvents.length > 0) {\r\n    return remove(newEvents, event => event.id !== eventId)\r\n  }\r\n  return newEvents\r\n}\r\n\r\n/**\r\n * Return true if the user followed the text\r\n * @param user User object\r\n * @param text Text object\r\n */\r\nexport const isUserFollowText = (user: IUser | null, textId: string): boolean =>\r\n  user ? user.followedTexts.includes(textId) : false\r\n\r\n/**\r\n * Get the target related of the event\r\n * @param event Event object\r\n * @param get function to get the data from the dataProvider\r\n */\r\nexport const getEventTarget = (\r\n  event: IEvent,\r\n  get: (type: string) => any\r\n): IResponse<any> | undefined => {\r\n  const eventType = event.target.type === 'result' ? 'amend' : event.target.type\r\n  return get(eventType)(event.target.id)\r\n}\r\n\r\n/**\r\n * Return the list of events and the related target\r\n * @param events List of events\r\n * @param get function to get the data from the dataProvider\r\n */\r\nexport const getListTargets = (\r\n  events: IEvent[],\r\n  get: (type: string) => any\r\n): INews[] => {\r\n  return events.map((event: IEvent) => {\r\n    return {\r\n      event,\r\n      target: getEventTarget(event, get)\r\n    }\r\n  })\r\n}\r\n\r\nexport const isTargetLoaded = (value: INews) => {\r\n  return value.target && value.target.data\r\n}\r\n\r\n/**\r\n * Return true if the event is related to the texts followed by the user\r\n * @param event Event object\r\n * @param target Target of the related event\r\n * @param user User object\r\n */\r\n\r\nexport const isRelatedToUserFollowedText = (user: IUser | null) => (\r\n  value: INews\r\n) => {\r\n  if (\r\n    user &&\r\n    value.target &&\r\n    (value.event.target.type === 'amend' ||\r\n      value.event.target.type === 'result')\r\n  ) {\r\n    return isUserFollowText(user, value.target.data.text)\r\n  }\r\n  return true\r\n}\r\n\r\n/**\r\n * Filter the list of events depending on the texts followed by the user\r\n * @param events list of events and related target\r\n * @param user  User object\r\n */\r\nexport const filterEventsByUserTextFollowed = (\r\n  events: INews[],\r\n  user: IUser | null\r\n) => {\r\n  if (user) {\r\n    return events\r\n      .filter(isTargetLoaded)\r\n      .filter(isRelatedToUserFollowedText(user))\r\n  }\r\n  return events\r\n}\r\n","import { IArgument } from '../../../../interfaces'\r\n\r\nexport const hasUserDownVote = (\r\n  userUnVote: Array<{ amendID: string; argumentID: string }>,\r\n  amendID: string,\r\n  argumentID: string\r\n) =>\r\n  userUnVote.find(\r\n    (vote: { amendID: string; argumentID: string }) =>\r\n      vote.amendID === amendID && vote.argumentID === argumentID\r\n  )\r\n\r\nexport const hasUserUpVote = (\r\n  userUpVote: Array<{ amendID: string; argumentID: string }>,\r\n  amendID: string,\r\n  argumentID: string\r\n) =>\r\n  userUpVote.find(\r\n    (vote: { amendID: string; argumentID: string }) =>\r\n      vote.amendID === amendID && vote.argumentID === argumentID\r\n  )\r\n\r\nexport const isMostPopularUpArgument = (index: number, data: IArgument) => {\r\n  return data.type === 'up' && data.upVotesCount > 0 && index === 0\r\n}\r\n\r\nexport const isMostPopularDownArgument = (index: number, data: IArgument) => {\r\n  return (\r\n    data.type === 'down' &&\r\n    data.upVotesCount > 0 &&\r\n    (index === 1 || index === 0)\r\n  )\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport {\r\n  ConfirmAlert,\r\n  WarningAlert,\r\n  Button,\r\n  Input,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { IError } from '../../../../../interfaces'\r\nimport { useAlert } from '../../../hooks'\r\nimport { callAll } from '../../../helpers'\r\n\r\nexport const UpdateEmail = () => {\r\n  const { showAlert, openAlert, closeAlert } = useAlert()\r\n  const [email, setEmail] = useState('')\r\n  const [error, setError] = useState<IError | null>(null)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      Socket.off('updateEmail')\r\n    }\r\n  }, [])\r\n\r\n  const submitEmail = () => {\r\n    Socket.fetch('updateEmail', { email }).catch((err: any) => {\r\n      console.error(err)\r\n      setError(err)\r\n    })\r\n  }\r\n\r\n  const reset = useCallback(() => {\r\n    setError(null)\r\n    setEmail('')\r\n  }, [])\r\n\r\n  const change = useCallback((event: any) => {\r\n    setEmail(event.target.value)\r\n  }, [])\r\n\r\n  return showAlert || error ? (\r\n    error && error.message ? (\r\n      <WarningAlert\r\n        message={error.message}\r\n        className={'is-danger'}\r\n        onClick={callAll(reset, closeAlert)}\r\n      />\r\n    ) : (\r\n      <ConfirmAlert\r\n        message={\r\n          'Attention cette action va vous dconnecter, veuillez confimer votre nouvel email pour accder  votre compte'\r\n        }\r\n        className={'is-danger'}\r\n        onCancel={closeAlert}\r\n        onConfirm={callAll(closeAlert, submitEmail)}\r\n      />\r\n    )\r\n  ) : (\r\n    <form\r\n      onSubmit={(event: any) => {\r\n        event.preventDefault()\r\n        openAlert()\r\n      }}\r\n      style={{ marginBottom: '4%' }}\r\n    >\r\n      <div className=\"field\">\r\n        <div className=\"control has-icons-left has-icons-right\">\r\n          <Input\r\n            placeholder=\"Nouvel email\"\r\n            onChange={change}\r\n            className=\"input\"\r\n            type=\"email\"\r\n            ariaLabel=\"email input\"\r\n            value={email}\r\n            autoComplete=\"off\"\r\n            iconLeft=\"fa-envelope\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"field is-grouped\">\r\n        <Button type=\"submit\" className=\"is-success\" disabled={!email}>\r\n          Valider\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport { PwdForm, Button, ApiContext } from '../../../components'\r\n\r\nexport const UpdatePassword = () => {\r\n  const [password, setPassword] = useState('')\r\n  const [checkPassword, setCheckPassword] = useState('')\r\n  const [pwdSame, setPwdSame] = useState(false)\r\n  const [pwdValid, setPwdValid] = useState(false)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      Socket.off('updatePassword')\r\n    }\r\n  }, [])\r\n\r\n  const change = useCallback(\r\n    (field: string, validInput: boolean) => (event: any) => {\r\n      switch (field) {\r\n        case 'password':\r\n          setPassword(event.target.value)\r\n          setPwdValid(validInput)\r\n          break\r\n        case 'checkPassword':\r\n          setCheckPassword(event.target.value)\r\n          setPwdSame(validInput)\r\n          break\r\n      }\r\n    },\r\n    []\r\n  )\r\n\r\n  const submitPassword = (event: any) => {\r\n    event.preventDefault()\r\n    Socket.fetch('updatePassword', { password })\r\n      .then(() => {\r\n        setPassword('')\r\n        setCheckPassword('')\r\n        setPwdSame(false)\r\n        setPwdValid(false)\r\n      })\r\n      .catch(console.error)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submitPassword}>\r\n      <PwdForm\r\n        change={change}\r\n        password={password}\r\n        checkPassword={checkPassword}\r\n        pwdSame={pwdSame}\r\n        pwdValid={pwdValid}\r\n      />\r\n      <div className=\"field is-grouped\">\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"is-success\"\r\n          disabled={!pwdValid || !pwdSame}\r\n        >\r\n          Valider\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Button, Icon } from '../../../components'\r\n\r\ninterface IItemProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n}\r\n\r\ninterface ITriggerProps {\r\n  /** Title of the button */\r\n  title: string\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Icon of the button */\r\n  icon?: string\r\n}\r\n\r\ninterface IDropDownProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** navbar mode */\r\n  navbar?: boolean\r\n  /** is hoverable */\r\n  isHoverable?: boolean\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\ninterface IMenuProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n}\r\n\r\n// Context\r\nconst DropDownContext = React.createContext({\r\n  open: false,\r\n  drop: () => {\r\n    return\r\n  },\r\n  navbar: false,\r\n  isHoverable: false\r\n})\r\nconst useDropDownContext = () => {\r\n  const context = React.useContext(DropDownContext)\r\n  if (!context) {\r\n    throw new Error('Component cannot be render outside the DropDown component')\r\n  }\r\n  return context\r\n}\r\n\r\nexport const DropDown = ({\r\n  children,\r\n  className,\r\n  navbar = false,\r\n  isHoverable = false,\r\n  ...rest\r\n}: IDropDownProps) => {\r\n  const [open, setOpen] = useState(false)\r\n  const drop = React.useCallback(() => setOpen(oldOpen => !oldOpen), [])\r\n  const value = React.useMemo(() => ({ open, drop, navbar, isHoverable }), [\r\n    open\r\n  ])\r\n\r\n  return (\r\n    <DropDownContext.Provider value={value}>\r\n      <div\r\n        className={`${navbar ? 'has-dropdown' : 'dropdown'} ${\r\n          open ? 'is-active' : ''\r\n        } ${isHoverable ? 'is-hoverable' : ''} ${className}`}\r\n        {...rest}\r\n      >\r\n        {children}\r\n      </div>\r\n    </DropDownContext.Provider>\r\n  )\r\n}\r\n\r\nconst Menu = React.memo(({ children }: IMenuProps) => {\r\n  const { navbar } = useDropDownContext()\r\n  return (\r\n    <div\r\n      className={`${navbar ? 'navbar-dropdown' : 'dropdown-menu'}`}\r\n      id=\"dropdown-menu\"\r\n      role=\"menu\"\r\n    >\r\n      {navbar ? children : <div className=\"dropdown-content\">{children}</div>}\r\n    </div>\r\n  )\r\n})\r\n\r\nconst Item = React.memo(({ children }: IItemProps) => {\r\n  const { drop, navbar, isHoverable } = useDropDownContext()\r\n  return navbar ? (\r\n    !isHoverable ? (\r\n      <div onClick={drop}>{children}</div>\r\n    ) : (\r\n      <div>{children}</div>\r\n    )\r\n  ) : !isHoverable ? (\r\n    <div className=\"dropdown-item\" onClick={drop}>\r\n      {children}\r\n    </div>\r\n  ) : (\r\n    <div className=\"dropdown-item\">{children}</div>\r\n  )\r\n})\r\n\r\nconst Divider = React.memo(() => {\r\n  const { navbar } = useDropDownContext()\r\n  return <hr className={`${navbar ? 'navbar-divider' : 'dropdown-divider'}`} />\r\n})\r\n\r\nconst Trigger = React.memo(({ title, icon }: ITriggerProps) => {\r\n  const { drop, navbar, isHoverable } = useDropDownContext()\r\n  return navbar ? (\r\n    !isHoverable ? (\r\n      <a className=\"navbar-link\" onClick={drop}>\r\n        {title}\r\n      </a>\r\n    ) : (\r\n      <a className=\"navbar-link\">{title}</a>\r\n    )\r\n  ) : !isHoverable ? (\r\n    <div className=\"dropdown-trigger\">\r\n      <Button onClick={drop}>\r\n        <span>{title}</span>\r\n        <Icon\r\n          type={'solid'}\r\n          name={icon ? icon : 'fa-angle-down'}\r\n          aria-hidden=\"true\"\r\n        />\r\n      </Button>\r\n    </div>\r\n  ) : (\r\n    <div className=\"dropdown-trigger\">\r\n      <Button>\r\n        <span>{title}</span>\r\n        <Icon\r\n          type={'solid'}\r\n          name={icon ? icon : 'fa-angle-down'}\r\n          aria-hidden=\"true\"\r\n        />\r\n      </Button>\r\n    </div>\r\n  )\r\n})\r\n\r\nDropDown.Item = Item\r\nDropDown.Divider = Divider\r\nDropDown.Trigger = Trigger\r\nDropDown.Menu = Menu\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  Icon,\r\n  Button,\r\n  Buttons,\r\n  I18nContext,\r\n  ApiContext\r\n} from '../../../components'\r\n// Interfaces\r\nimport { IAmend } from '../../../../../interfaces'\r\n// Helper\r\nimport { getPropsAmendDown, getPropsAmendUp } from '../../../helpers'\r\n\r\ninterface IVoteProps {\r\n  /** User data */\r\n  user: any\r\n  /** Amend data */\r\n  amend: IAmend\r\n  /** match  */\r\n  match: any\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Custom CSS */\r\n  style?: React.CSSProperties\r\n  /** Display the text+Icon or just icon */\r\n  withText?: boolean\r\n  /** Display just icons and result */\r\n  withIcon?: boolean\r\n}\r\n\r\nexport const Vote = ({\r\n  className,\r\n  user,\r\n  amend,\r\n  style,\r\n  match,\r\n  withIcon = false,\r\n  ...rest\r\n}: IVoteProps) => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const vote = (user: any) => (amend: any) => (type: string) => (\r\n    id: string\r\n  ) => async (event: any) => {\r\n    event.stopPropagation()\r\n    const textID = amend.text\r\n    if (user.followedTexts.indexOf(textID) === -1) {\r\n      await Socket.fetch('followText', { id: textID })\r\n    }\r\n\r\n    await Socket.fetch(type + 'VoteAmend', { id })\r\n    Socket.emit('user')\r\n  }\r\n\r\n  const isVoteInAmend = (votes: string[], amendId: string) =>\r\n    votes.includes(amendId)\r\n\r\n  const propsVoteUp = getPropsAmendUp(\r\n    user ? isVoteInAmend(user.upVotes, amend.id) : false\r\n  )\r\n\r\n  const propsVoteDown = getPropsAmendDown(\r\n    user ? isVoteInAmend(user.downVotes, amend.id) : false\r\n  )\r\n\r\n  return withIcon ? (\r\n    <div style={{ display: 'flex', ...style }}>\r\n      <div>\r\n        <Button\r\n          {...propsVoteUp.container}\r\n          disabled={!user}\r\n          onClick={user && vote(user)(amend)('up')(match.params.id)}\r\n        >\r\n          <Icon\r\n            {...propsVoteUp.icon}\r\n            styleIcon={{ top: '-5%', position: 'relative' }}\r\n          />\r\n          <span className=\"has-text-weight-semibold\">\r\n            {amend.results.upVotesCount}\r\n          </span>\r\n        </Button>\r\n      </div>\r\n      <div>\r\n        <Button\r\n          {...propsVoteDown.container}\r\n          disabled={!user}\r\n          onClick={user && vote(user)(amend)('down')(match.params.id)}\r\n        >\r\n          <Icon\r\n            {...propsVoteDown.icon}\r\n            styleIcon={{ top: '5%', position: 'relative' }}\r\n          />\r\n          <span className=\"has-text-weight-semibold\">\r\n            {amend.results.downVotesCount}\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <Buttons className={className} {...rest}>\r\n      <Button\r\n        className={`is-success ${className} ${\r\n          isVoteInAmend(user.upVotes, amend.id) ? '' : 'is-outlined'\r\n        }`}\r\n        onClick={user && vote(user)(amend)('up')(match.params.id)}\r\n        disabled={!user || amend.closed}\r\n      >\r\n        <span>{translate('UP_VOTE')}</span>\r\n        <Icon type={'solid'} name=\"fa-smile\" size=\"fa-lg\" />\r\n      </Button>\r\n\r\n      <Button\r\n        className={`is-info ${className} ${\r\n          isVoteInAmend(user.indVotes, amend.id) ? '' : 'is-outlined'\r\n        }`}\r\n        onClick={user && vote(user)(amend)('ind')(match.params.id)}\r\n        disabled={!user || amend.closed}\r\n      >\r\n        <span>{translate('IND_VOTE')}</span>\r\n        <Icon type={'solid'} name=\"fa-meh\" size=\"fa-lg\" />\r\n      </Button>\r\n\r\n      <Button\r\n        className={`is-danger ${className} ${\r\n          isVoteInAmend(user.downVotes, amend.id) ? '' : 'is-outlined'\r\n        }`}\r\n        onClick={user && vote(user)(amend)('down')(match.params.id)}\r\n        disabled={!user || amend.closed}\r\n      >\r\n        <span>{translate('DOWN_VOTE')}</span>\r\n        <Icon type={'solid'} name=\"fa-frown\" size=\"fa-lg\" />\r\n      </Button>\r\n    </Buttons>\r\n  )\r\n}\r\n","/**\r\n * Return props for the div and icon depending on the result of the vote or the user vote\r\n * @param amend Current Amend\r\n */\r\nexport const getPropsAmendUp = (\r\n  isUp: boolean\r\n): {\r\n  container: { className: string; style: any }\r\n  icon: {\r\n    type: 'solid' | 'regular' | 'light' | 'brands'\r\n    name: string\r\n    className: string\r\n    style: any\r\n  }\r\n} => ({\r\n  container: {\r\n    className: `${\r\n      isUp ? 'has-text-link' : 'has-text-grey-light'\r\n    } no-focus-outlined`,\r\n    style: {\r\n      border: 'none',\r\n      margin: '0',\r\n      backgroundColor: 'transparent',\r\n      marginRight: '0.5rem'\r\n    }\r\n  },\r\n  icon: {\r\n    type: 'solid',\r\n    name: `fa-thumbs-up`,\r\n    className: 'fa-lg',\r\n    style: {\r\n      background: isUp ? 'hsl(217, 71%, 53%, 20%)' : 'hsl(0, 0%, 96%)',\r\n      borderRadius: '50%',\r\n      height: '2.3rem',\r\n      width: '2.3rem',\r\n      marginLeft: 'calc(-.375em - 1px)',\r\n      marginRight: '.1875em'\r\n    }\r\n  }\r\n})\r\n\r\n/**\r\n * Return props for the div and icon depending on the result of the vote or the user vote\r\n * @param amend Current Amend\r\n */\r\nexport const getPropsAmendDown = (\r\n  isDown: boolean\r\n): {\r\n  container: { className: string; style: any }\r\n  icon: {\r\n    type: 'solid' | 'regular' | 'light' | 'brands'\r\n    name: string\r\n    className: string\r\n    style: any\r\n  }\r\n} => ({\r\n  container: {\r\n    className: `${\r\n      isDown ? 'has-text-danger' : 'has-text-grey-light'\r\n    } no-focus-outlined`,\r\n    style: {\r\n      border: 'none',\r\n      margin: '0',\r\n      backgroundColor: 'transparent',\r\n      paddingRight: '0'\r\n    }\r\n  },\r\n  icon: {\r\n    type: 'solid',\r\n    name: `fa-thumbs-down`,\r\n    className: 'fa-lg',\r\n    style: {\r\n      background: isDown ? 'hsl(348, 100%, 61%, 20%)' : 'hsl(0, 0%, 96%)',\r\n      borderRadius: '50%',\r\n      height: '2.3rem',\r\n      width: '2.3rem',\r\n      marginLeft: 'calc(-.375em - 1px)',\r\n      marginRight: '.1875em'\r\n    }\r\n  }\r\n})\r\n","import React from 'react'\r\nimport { useTabs } from '../../../hooks'\r\nimport { getIndexDefaultTab } from './helper'\r\nimport { Link } from '../../../components'\r\n\r\ninterface ITabsProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Name of each tabs */\r\n  tabsName: string[]\r\n  /** location */\r\n  location?: Location\r\n  /** default tab */\r\n  defaultTab?: string\r\n}\r\n\r\ninterface ITabProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Link to its Content */\r\n  to: string\r\n}\r\n\r\ninterface ITabsMenuProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\ninterface ITabContentProps {\r\n  /** Children node */\r\n  children: React.ReactNode\r\n  /** Link to its item */\r\n  for: string\r\n}\r\n\r\n// Create context\r\nconst TabsContext = React.createContext<any>(null)\r\n\r\n// Check if the component is in the context\r\nconst useTabsContext = () => {\r\n  const context = React.useContext(TabsContext)\r\n  if (!context) {\r\n    throw new Error('Component cannot be render outside the Tabs component')\r\n  }\r\n  return context\r\n}\r\n\r\nexport const Tabs = ({\r\n  children,\r\n  tabsName,\r\n  location,\r\n  defaultTab\r\n}: ITabsProps) => {\r\n  const {\r\n    selectedTab,\r\n    setSelectedTab,\r\n    selectNextTab,\r\n    selectPreviousTab\r\n  } = useTabs(tabsName, getIndexDefaultTab(tabsName)(defaultTab))\r\n\r\n  React.useEffect(() => {\r\n    if (location) {\r\n      const url = new URLSearchParams(location.search)\r\n      setSelectedTab(url.get('tab') || defaultTab || tabsName[0])\r\n    }\r\n  }, [location])\r\n\r\n  React.useEffect(() => {\r\n    const eventHandler = (event: KeyboardEvent) => {\r\n      if (event.key === 'ArrowRight') {\r\n        selectNextTab()\r\n      } else if (event.key === 'ArrowLeft') {\r\n        selectPreviousTab()\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keyup', eventHandler)\r\n    return () => {\r\n      document.removeEventListener('keyup', eventHandler)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <TabsContext.Provider value={{ selectedTab, setSelectedTab } as any}>\r\n      <React.Fragment>{children}</React.Fragment>\r\n    </TabsContext.Provider>\r\n  )\r\n}\r\n\r\nconst Menu = React.memo(({ children, className }: ITabsMenuProps) => (\r\n  <div className={`tabs ${className}`}>\r\n    <ul>{children}</ul>\r\n  </div>\r\n))\r\n\r\nconst Tab = React.memo(({ children, to }: ITabProps) => {\r\n  const { selectedTab, setSelectedTab } = useTabsContext()\r\n  return (\r\n    <li className={selectedTab === to ? 'is-active' : ''}>\r\n      <Link onClick={() => setSelectedTab(to)}>{children}</Link>\r\n    </li>\r\n  )\r\n})\r\n\r\nconst Content = React.memo((props: ITabContentProps) => {\r\n  const { selectedTab } = useTabsContext()\r\n  return selectedTab === props.for ? (\r\n    <React.Fragment>{props.children}</React.Fragment>\r\n  ) : null\r\n})\r\n\r\nTabs.Menu = Menu\r\nTabs.Tab = Tab\r\nTabs.Content = Content\r\n","/**\r\n * Return the default active tab index\r\n * @param tabs Array of tabs name\r\n */\r\nexport const getIndexDefaultTab = (tabs: string[]) => (defaultTab?: any) => {\r\n  if (defaultTab) {\r\n    const indexDefaultTab = tabs.indexOf(defaultTab)\r\n    return indexDefaultTab !== -1 ? indexDefaultTab : 0\r\n  }\r\n  return 0\r\n}\r\n","/**\r\n * Hook for sharing tabs logic\r\n */\r\nimport React from 'react'\r\n\r\nexport const useTabs = (\r\n  tabs: string[],\r\n  initialIndex?: number,\r\n  infinite: boolean = true\r\n): {\r\n  selectedTab: string | undefined\r\n  setSelectedTab: (tab: string) => void\r\n  selectPreviousTab: () => void\r\n  selectNextTab: () => void\r\n} => {\r\n  const [selectedTab, setSelectedTab] = React.useState(tabs[initialIndex || 0])\r\n\r\n  const selectNextTab = () => {\r\n    if (selectedTab) {\r\n      const targetIndex = tabs.indexOf(selectedTab) + 1\r\n      if (targetIndex > tabs.length - 1) {\r\n        if (infinite) {\r\n          setSelectedTab(tabs[0])\r\n        }\r\n      } else {\r\n        setSelectedTab(tabs[targetIndex])\r\n      }\r\n    }\r\n  }\r\n\r\n  const selectPreviousTab = () => {\r\n    if (selectedTab) {\r\n      const targetIndex = tabs.indexOf(selectedTab) - 1\r\n      if (targetIndex < 0) {\r\n        if (infinite) {\r\n          setSelectedTab(tabs[tabs.length - 1])\r\n        }\r\n      } else {\r\n        setSelectedTab(tabs[targetIndex])\r\n      }\r\n    }\r\n  }\r\n\r\n  return { selectedTab, setSelectedTab, selectPreviousTab, selectNextTab }\r\n}\r\n","export enum language {\r\n  EN = 'EN',\r\n  FR = 'FR'\r\n}\r\n\r\nexport type translateKey =\r\n  | 'HOME'\r\n  | 'HOME_TITLE'\r\n  | 'HOME_SUBTITLE'\r\n  | 'MY_PROFILE'\r\n  | 'LOGIN'\r\n  | 'REGISTER'\r\n  | 'ETHIC_CODE'\r\n  | 'CONTRIBUTORS'\r\n  | 'LEGAL_MENTIONS'\r\n  | 'SOURCES'\r\n  | 'NEWS'\r\n  | 'TEXTS'\r\n  | 'TEXTS_LIST'\r\n  | 'ADD_A_TEXT'\r\n  | 'SEARCH_A_TEXT'\r\n  | 'OUR_MOTIVATIONS'\r\n  | 'ETHIC_CODE_1_1'\r\n  | 'ETHIC_CODE_1_2'\r\n  | 'ETHIC_CODE_1_3'\r\n  | 'ETHIC_CODE_2_1'\r\n  | 'ETHIC_CODE_2_2'\r\n  | 'ETHIC_CODE_2_3'\r\n  | 'ETHIC_CODE_3_1'\r\n  | 'ETHIC_CODE_3_2'\r\n  | 'ETHIC_CODE_3_3'\r\n  | 'SIGN_OUT'\r\n  | 'NOTIFICATIONS'\r\n  | 'MY_DATA'\r\n  | 'PARAMETERS'\r\n  | 'MY_DATA_PROFILE_TEXT'\r\n  | 'CONTRIBUTORS_THANKS'\r\n  | 'CONTRIBUTE_GITHUB'\r\n  | 'THANKS_TO_USERS'\r\n  | 'THANKS_TO_TOOLS'\r\n  | 'HOST_CONTACT_DETAILS'\r\n  | 'HOST_BY'\r\n  | 'ERROR'\r\n  | 'BACK_HOME'\r\n  | 'TEXT'\r\n  | 'AMEND'\r\n  | 'RESULT'\r\n  | 'NEW_EVENTS'\r\n  | 'EVENTS_LIST'\r\n  | 'MARK_AS_READ'\r\n  | 'OLD_EVENTS'\r\n  | 'VOTE'\r\n  | 'ARGUMENTS'\r\n  | 'RULES'\r\n  | 'HISTORY'\r\n  | 'AMENDS'\r\n  | 'ABOUT'\r\n  | 'UP_VOTE'\r\n  | 'DOWN_VOTE'\r\n  | 'IND_VOTE'\r\n  | 'RES_UP_VOTE'\r\n  | 'RES_DOWN_VOTE'\r\n  | 'RES_IND_VOTE'\r\n  | 'RES_TOTAL_VOTE'\r\n  | 'EXPLORE'\r\n  | 'PROFILE'\r\n  | 'RESULTS'\r\n  | 'VOTES'\r\n","import { IRoute } from '../../../../interfaces'\r\n\r\n// For paths like that for example : /text/:id\r\nexport const withID = (pathname: string) => (id = ':id') => pathname + id\r\n\r\n// All application routes\r\nexport const routes: IRoute[] = [\r\n  { name: 'home', path: '/', exact: true },\r\n  { name: 'code', path: '/ethics-code' },\r\n  { name: 'texts', path: '/texts' },\r\n  { name: 'votes', path: '/votes' },\r\n  { name: 'results', path: '/results' },\r\n  { name: 'legal', path: '/legal-notice' },\r\n  { name: 'contributors', path: '/contributors' },\r\n  { name: 'reset', path: '/reset-password' },\r\n  { name: 'profile', path: '/profile', private: true },\r\n  { name: 'create', path: '/create', private: true },\r\n  { name: 'edit', path: withID('/edit/'), private: true },\r\n  { name: 'activate', path: withID('/activate/') },\r\n  { name: 'share', path: withID('/share/') },\r\n  { name: 'authentification', path: '/authentification' }\r\n]\r\n\r\n// To be use like that : path.text(\"42\") => /text/42\r\nexport const path: any = routes.reduce(\r\n  (acc, route) => ({ ...acc, [route.name]: route.path }),\r\n  {}\r\n)\r\n","export interface ITranslations {\r\n  [key: string]: { [language: string]: string }\r\n}\r\n\r\nexport const translations: ITranslations = {\r\n  HOME: {\r\n    FR: 'Accueil',\r\n    EN: 'Home'\r\n  },\r\n  HOME_TITLE: {\r\n    FR: 'Emendare est une plateforme de rdaction de textes amendables',\r\n    EN: 'Emendare is a writing platform for amendable texts'\r\n  },\r\n  HOME_SUBTITLE: {\r\n    FR:\r\n      \"Un amendement est une modification d'un texte, soumise au vote d'un groupe\",\r\n    EN:\r\n      'An amendment is a modification of a text, submitted to the vote of a group'\r\n  },\r\n  MY_PROFILE: {\r\n    FR: 'Mon Profil',\r\n    EN: 'My Profile'\r\n  },\r\n  LOGIN: {\r\n    FR: 'Connexion',\r\n    EN: 'Login'\r\n  },\r\n  REGISTER: {\r\n    FR: 'Inscription',\r\n    EN: 'Register'\r\n  },\r\n  ETHIC_CODE: {\r\n    FR: 'Charte thique',\r\n    EN: 'Code of ethics'\r\n  },\r\n  CONTRIBUTORS: {\r\n    FR: 'Contributeurs',\r\n    EN: 'Contributors'\r\n  },\r\n  LEGAL_MENTIONS: {\r\n    FR: 'Mentions lgales',\r\n    EN: 'Legal Notice'\r\n  },\r\n  SOURCES: {\r\n    FR: 'Sources',\r\n    EN: 'Sources'\r\n  },\r\n  NEWS: {\r\n    FR: 'Actualits',\r\n    EN: 'News'\r\n  },\r\n  TEXTS: {\r\n    FR: 'Textes',\r\n    EN: 'Texts'\r\n  },\r\n  TEXTS_LIST: {\r\n    FR: 'Liste des textes',\r\n    EN: 'Texts list'\r\n  },\r\n  ADD_A_TEXT: {\r\n    FR: 'Ajouter un texte',\r\n    EN: 'Add a new text'\r\n  },\r\n  SEARCH_A_TEXT: {\r\n    FR: 'Rechercher un texte',\r\n    EN: 'Search a text'\r\n  },\r\n  OUR_MOTIVATIONS: {\r\n    FR: 'Nos engagements et motivations',\r\n    EN: 'Our commitments and motivations'\r\n  },\r\n  ETHIC_CODE_1_1: {\r\n    FR:\r\n      \"Emendare est une plateforme dont l'objectif est de permettre  des organisations horizontales de produire des textes communs.\",\r\n    EN:\r\n      'Emendare is a platform whose goal is to enable horizontal organizations to produce common texts.'\r\n  },\r\n  ETHIC_CODE_1_2: {\r\n    FR:\r\n      \"Nous, contributeurs, souhaitons participer au co-dveloppement d'un outil numrique permettant une meilleure expression dmocratique.\",\r\n    EN:\r\n      'We, contributors, wish to participate in the co-development of a digital tool allowing a better democratic expression.'\r\n  },\r\n  ETHIC_CODE_1_3: {\r\n    FR:\r\n      \"Cet objectif est politique, et nous l'assumons comme tel. Cependant la plateforme est conue pour rester neutre quant  ses contenus.\",\r\n    EN:\r\n      'This goal is political, and we assume it as such, but the platform is designed to remain neutral in content.'\r\n  },\r\n  ETHIC_CODE_2_1: {\r\n    FR:\r\n      'Seul un email permet de vous identifier personnellement. Les donnes lies  votre compte sont supprimes suite  la fermeture de votre compte.',\r\n    EN:\r\n      'Only an email can identify you personally. Data related to your account is deleted if you remove your account. '\r\n  },\r\n  ETHIC_CODE_2_2: {\r\n    FR:\r\n      \"La plateforme n'utilise aucun tracking, et n'a aucune intention commerciale. Vos donnes vous appartiennent strictement ici.\",\r\n    EN:\r\n      'The platform does not use any tracking, and has no commercial intent - your data is strictly yours here.'\r\n  },\r\n  ETHIC_CODE_2_3: {\r\n    FR:\r\n      \"Pour assurer ces engagements, il est envisag d'hberger la plateforme en peer-to-peer, et d'en dcentraliser la base de donnes.\",\r\n    EN:\r\n      'To respect these commitments, it is considered hosting the platform in peer-to-peer, and decentralizing the database.'\r\n  },\r\n  ETHIC_CODE_3_1: {\r\n    FR:\r\n      'Emendare est une initiative open-source. Les contributions de la communaut sont trs encourages et indispensables.',\r\n    EN:\r\n      'Emendare is an open-source initiative. The contributions of the community are very much encouraged and vital. '\r\n  },\r\n  ETHIC_CODE_3_2: {\r\n    FR:\r\n      'Le dveloppement de cette plateforme se veut tre un exemple de collaboration entre les utilisateurs et les contributeurs.',\r\n    EN:\r\n      \"This platform's development should be an example of collaboration between users and contributors.\"\r\n  },\r\n  ETHIC_CODE_3_3: {\r\n    FR:\r\n      'Pour cela Emendare utilise ses propres fonctionnalits pour dfinir avec les utilisateurs, les fonctionnalits  dvelopper.',\r\n    EN:\r\n      \"That's why Emendare is itself used to define with the users the functionalities to be developed.\"\r\n  },\r\n  SIGN_OUT: {\r\n    FR: 'Se dconnecter',\r\n    EN: 'Sign out'\r\n  },\r\n  NOTIFICATIONS: {\r\n    FR: 'Notifications',\r\n    EN: 'Notifications'\r\n  },\r\n  MY_DATA: {\r\n    FR: 'Mes donnes',\r\n    EN: 'My data'\r\n  },\r\n  PARAMETERS: {\r\n    FR: 'Paramtres',\r\n    EN: 'Parameters'\r\n  },\r\n  MY_DATA_PROFILE_TEXT: {\r\n    FR:\r\n      'Par soucis de transparence, vous pouvez retrouver ci-dessous la liste exhaustive des donnes brutes concernant votre compte :',\r\n    EN:\r\n      'For the sake of transparency, you can find below the exhaustive list of raw data concerning your account :'\r\n  },\r\n  CONTRIBUTORS_THANKS: {\r\n    FR: 'Remerciements  tous les contributeurs',\r\n    EN: 'Thanks to all contributors'\r\n  },\r\n  CONTRIBUTE_GITHUB: {\r\n    FR: \"Pour contribuer  la plateforme rendez-vous sur le Github d'Emendare\",\r\n    EN: 'To contribute to the platform, visit the Github page of Emendare'\r\n  },\r\n  THANKS_TO_USERS: {\r\n    FR: 'Merci  ces contributeurs',\r\n    EN: 'Thanks to this contributors'\r\n  },\r\n  THANKS_TO_TOOLS: {\r\n    FR: 'Merci  ces outils',\r\n    EN: 'Thanks to this tools'\r\n  },\r\n  HOST_CONTACT_DETAILS: {\r\n    FR: \"Coordonnes de l'hbergeur\",\r\n    EN: 'Contact details of the host'\r\n  },\r\n  HOST_BY: {\r\n    FR: 'Emendare est hberg par',\r\n    EN: 'Emendare is hosted by'\r\n  },\r\n  ERROR: {\r\n    FR: 'Erreur',\r\n    EN: 'Error'\r\n  },\r\n  TEXT: {\r\n    FR: 'Texte',\r\n    EN: 'Text'\r\n  },\r\n  AMEND: {\r\n    FR: 'Amendement',\r\n    EN: 'Amend'\r\n  },\r\n  RESULT: {\r\n    FR: 'Rsutat',\r\n    EN: 'Result'\r\n  },\r\n  NEW_EVENTS: {\r\n    FR: 'Nouveaux vnements',\r\n    EN: 'New events'\r\n  },\r\n  EVENTS_LIST: {\r\n    FR: 'Liste des vnements',\r\n    EN: 'Events list'\r\n  },\r\n  MARK_AS_READ: {\r\n    FR: 'Tout marquer comme lu',\r\n    EN: 'Mark everything as read'\r\n  },\r\n  OLD_EVENTS: {\r\n    FR: 'Anciens vnements',\r\n    EN: 'Old events'\r\n  },\r\n  VOTE: {\r\n    FR: 'Vote',\r\n    EN: 'Vote'\r\n  },\r\n  ARGUMENTS: {\r\n    FR: 'Arguments',\r\n    EN: 'Arguments'\r\n  },\r\n  RULES: {\r\n    FR: 'Rgles',\r\n    EN: 'Rules'\r\n  },\r\n  HISTORY: {\r\n    FR: 'Historique',\r\n    EN: 'History'\r\n  },\r\n  AMENDS: {\r\n    FR: 'Amendements',\r\n    EN: 'Amends'\r\n  },\r\n  ABOUT: {\r\n    FR: 'A propos',\r\n    EN: 'About'\r\n  },\r\n  UP_VOTE: {\r\n    FR: \"J'accepte\",\r\n    EN: 'I accept'\r\n  },\r\n  DOWN_VOTE: {\r\n    FR: 'Je dcline',\r\n    EN: 'I decline'\r\n  },\r\n  IND_VOTE: {\r\n    FR: 'Indiffrent',\r\n    EN: 'Indifferent'\r\n  },\r\n  RES_UP_VOTE: {\r\n    FR: 'Nombre de votes pour',\r\n    EN: 'Number of vote for'\r\n  },\r\n  RES_DOWN_VOTE: {\r\n    FR: 'Nombre de votes contre',\r\n    EN: 'Number of votes against'\r\n  },\r\n  RES_IND_VOTE: {\r\n    FR: 'Nombre de votes indiffrent',\r\n    EN: 'Number of votes indifferent'\r\n  },\r\n  RES_TOTAL_VOTE: {\r\n    FR: 'Nombre total de votes',\r\n    EN: 'Total number of votes'\r\n  },\r\n  BACK_HOME: {\r\n    FR: \"Retour  l'accueil\",\r\n    EN: 'Back to Home'\r\n  },\r\n  EXPLORE: {\r\n    FR: 'Explorer',\r\n    EN: 'Explore'\r\n  },\r\n  PROFILE: {\r\n    FR: 'Profil',\r\n    EN: 'Profile'\r\n  },\r\n  RESULTS: {\r\n    FR: 'Rsultats',\r\n    EN: 'Results'\r\n  },\r\n  VOTES: {\r\n    FR: 'Votes',\r\n    EN: 'Votes'\r\n  }\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport { Button, Icon, ApiContext } from '../../../components'\r\nimport { IText } from '../../../../../interfaces'\r\nimport { path } from '../../../config'\r\n\r\ninterface IProposeAmendProps {\r\n  /** Related text */\r\n  text: IText\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Display only an icon */\r\n  withIcon?: boolean\r\n}\r\n\r\nexport const ProposeAmend = ({\r\n  text,\r\n  className,\r\n  withIcon = false\r\n}: IProposeAmendProps) => {\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  return withIcon ? (\r\n    <Button\r\n      className=\"has-text-grey-light\"\r\n      onClick={() => {\r\n        Socket.emit('followText', { id: text.id })\r\n      }}\r\n      style={{\r\n        border: 'none',\r\n        padding: 'none',\r\n        backgroundColor: 'transparent'\r\n      }}\r\n      to={path.edit(text.id)}\r\n    >\r\n      <Icon\r\n        type={'light'}\r\n        name=\"fa-pencil-alt\"\r\n        className=\"fa-lg\"\r\n        style={{ marginRight: '0.5rem' }}\r\n      />\r\n      {text.amends.length}\r\n    </Button>\r\n  ) : (\r\n    <Button\r\n      to={path.edit(text.id)}\r\n      className={`is-info ${className}`}\r\n      onClick={() => {\r\n        Socket.emit('followText', { id: text.id })\r\n      }}\r\n    >\r\n      <Icon type={'solid'} name=\"fa-plus\" />\r\n      <span>Proposer un amendement</span>\r\n    </Button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IText } from '../../../../../interfaces'\r\nimport { Button, Icon, ApiContext } from '../../../components'\r\n\r\ninterface IFollowTextProps {\r\n  /** Related Text */\r\n  text: IText\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Display only an icon */\r\n  withIcon?: boolean\r\n}\r\n\r\nexport const FollowText = ({\r\n  text,\r\n  className = '',\r\n  withIcon = false\r\n}: IFollowTextProps) => {\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  return withIcon ? (\r\n    <Button\r\n      className=\"has-text-grey-light has-text-weight-semibold no-focus-outlined\"\r\n      style={{\r\n        border: 'none',\r\n        padding: '0',\r\n        backgroundColor: 'transparent'\r\n      }}\r\n      onClick={() => {\r\n        Socket.emit('followText', { id: text.id })\r\n      }}\r\n    >\r\n      <Icon\r\n        type={'light'}\r\n        name=\"fa-user\"\r\n        className=\"fa-lg\"\r\n        style={{ marginRight: '0.5rem', height: '2.3rem', width: '2.3rem' }}\r\n      />\r\n      {text.followersCount}\r\n    </Button>\r\n  ) : (\r\n    <Button\r\n      onClick={() => {\r\n        Socket.emit('followText', { id: text.id })\r\n      }}\r\n      className={`button is-success ${className}`}\r\n    >\r\n      Participer  ce texte\r\n    </Button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IText } from '../../../../../interfaces'\r\nimport { Button, Icon, ApiContext } from '../../../components'\r\n\r\ninterface IUnFollowTextProps {\r\n  /** Related Text */\r\n  text: IText\r\n  /** Additional CSS UI class */\r\n  className?: string\r\n  /** Display only an icon */\r\n  withIcon?: boolean\r\n}\r\n\r\nexport const UnFollowText = ({\r\n  text,\r\n  className = '',\r\n  withIcon = false\r\n}: IUnFollowTextProps) => {\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  return withIcon ? (\r\n    <Button\r\n      className=\"has-text-grey-light has-text-weight-semibold no-focus-outlined\"\r\n      style={{\r\n        border: 'none',\r\n        padding: '0',\r\n        backgroundColor: 'transparent'\r\n      }}\r\n      onClick={() => {\r\n        Socket.emit('unFollowText', { id: text.id })\r\n      }}\r\n    >\r\n      <Icon\r\n        type={'light'}\r\n        name=\"fas fa-user\"\r\n        className={'fa-lg ' + className}\r\n        style={{\r\n          marginRight: '0.5rem',\r\n          backgroundColor: 'hsl(204, 86%, 53%, 20%)',\r\n          borderRadius: '50%',\r\n          height: '2.3rem',\r\n          width: '2.3rem'\r\n        }}\r\n      />\r\n      <span className={className}>{text.followersCount}</span>\r\n    </Button>\r\n  ) : (\r\n    <Button\r\n      onClick={() => {\r\n        Socket.emit('unFollowText', { id: text.id })\r\n      }}\r\n      className={`button is-success is-outlined ${className}`}\r\n    >\r\n      Ne plus participer au texte\r\n    </Button>\r\n  )\r\n}\r\n","/**\r\n * Return the pourcentage of up/down/ind vote\r\n * @param result Result of the vote\r\n */\r\nexport const getPourcentageVote = (result: {\r\n  up: number\r\n  ind: number\r\n  down: number\r\n}): { up: number; down: number; ind: number } => {\r\n  const { up, down, ind } = result\r\n  const totalVote = up + down + ind\r\n  return totalVote === 0\r\n    ? { up: 0, down: 0, ind: 0 }\r\n    : {\r\n        up: +((up / totalVote) * 100).toFixed(1),\r\n        down: +((down / totalVote) * 100).toFixed(1),\r\n        ind: +((ind / totalVote) * 100).toFixed(1)\r\n      }\r\n}\r\n\r\n/**\r\n * Return a css gradient to display the result in a progress bar\r\n * @param pourcentageVote Result in pourcentage\r\n */\r\nexport const createLinearGradientFromResult = (pourcentageVote: {\r\n  up: number\r\n  ind: number\r\n  down: number\r\n}) => {\r\n  const { up, down, ind } = pourcentageVote\r\n  return up === 0 && down === 0 && ind === 0\r\n    ? `linear-gradient(to right, hsl(0, 0%, 71%) 0%, hsl(0, 0%, 71%) 100%)`\r\n    : `linear-gradient(to right,hsl(217, 71%, 53%) ${up}%, hsl(217, 71%, 53%) ${up}%, hsl(204, 86%, 53%) ${up +\r\n        ind}%, hsl(348, 100%, 61%) ${up + ind}%,hsl(348, 100%, 61%) ${up +\r\n        ind +\r\n        down}%  )`\r\n}\r\n","// Dependencies\r\nimport React from 'react'\r\n// Helpers\r\nimport { getPourcentageVote, createLinearGradientFromResult } from './helper'\r\n// Components\r\nimport { Progress } from '../../../components'\r\n\r\ninterface IResultBarProps {\r\n  /** Result of the vote */\r\n  results: { up: number; down: number; ind: number }\r\n}\r\n\r\nexport const ResultBar = React.memo(({ results }: IResultBarProps) => {\r\n  const pourcentageVote = getPourcentageVote(results)\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        flex: 1,\r\n        justifyContent: 'space-around',\r\n        alignItems: 'baseline',\r\n        fontSize: '0.9rem'\r\n      }}\r\n    >\r\n      <span\r\n        className={`${\r\n          results.down < results.up\r\n            ? 'has-text-info has-text-weight-semibold'\r\n            : 'has-text-grey-light'\r\n        } `}\r\n      >\r\n        {pourcentageVote.up}%\r\n      </span>\r\n      <Progress\r\n        style={{\r\n          WebkitAppearance: 'meter',\r\n          backgroundImage: createLinearGradientFromResult(pourcentageVote),\r\n          height: '0.4rem',\r\n          margin: '0 0.5rem'\r\n        }}\r\n        value={100}\r\n        max={100}\r\n      >\r\n        100%\r\n      </Progress>\r\n      <span\r\n        className={`${\r\n          results.down >= results.up\r\n            ? 'has-text-danger has-text-weight-semibold'\r\n            : 'has-text-grey-light'\r\n        }`}\r\n      >\r\n        {pourcentageVote.down}%\r\n      </span>\r\n    </div>\r\n  )\r\n})\r\n","import React, { useMemo } from 'react'\r\nimport { useToggle } from '../../../hooks'\r\nimport { callAll } from '../../../helpers'\r\n\r\ninterface ICollapseProps {\r\n  /** Children nodes */\r\n  children: any\r\n  /** set toggle state */\r\n  isOpen?: boolean\r\n  /** style CSS */\r\n  style?: React.CSSProperties\r\n  /** Additionnal CSS UI class  */\r\n  className?: string\r\n  /** on click event */\r\n  onClick?: any\r\n}\r\n\r\n// Context\r\nconst CollapseContext = React.createContext({\r\n  on: false,\r\n  toggler: () => {\r\n    return\r\n  }\r\n})\r\n\r\nconst useCollapseContext = () => {\r\n  const context = React.useContext(CollapseContext)\r\n  if (!context) {\r\n    throw new Error('Component cannot be render outside the Collapse component')\r\n  }\r\n  return context\r\n}\r\n\r\nexport const Collapse = ({\r\n  children,\r\n  isOpen = false,\r\n  ...rest\r\n}: ICollapseProps) => {\r\n  const { on, toggler } = useToggle(isOpen)\r\n  const value = useMemo(() => ({ toggler, on }), [toggler, on])\r\n  return (\r\n    <CollapseContext.Provider value={value} {...rest}>\r\n      {children}\r\n    </CollapseContext.Provider>\r\n  )\r\n}\r\n\r\nconst Trigger = ({ children, onClick, ...rest }: ICollapseProps) => {\r\n  const { toggler, on } = useCollapseContext()\r\n  return (\r\n    <div\r\n      onClick={(event: React.MouseEvent) => {\r\n        event.stopPropagation()\r\n        onClick ? callAll(toggler, onClick)() : toggler()\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children(on)}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Detail = ({ children }: any) => {\r\n  const { on } = useCollapseContext()\r\n  return on ? <React.Fragment>{children}</React.Fragment> : null\r\n}\r\n\r\nCollapse.Trigger = Trigger\r\nCollapse.Detail = Detail\r\n","import React, { useState, useCallback } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n// Components\r\nimport { Link, Notification, Input, useUser } from '../../../components'\r\n// Config\r\nimport { path } from '../../../config'\r\n\r\ninterface ILoginPageProps {\r\n  location?: any\r\n  /** Render Props to display all the buttons */\r\n  render: any\r\n}\r\n\r\nexport const LoginForm = ({ location, render }: ILoginPageProps) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [redirectToRefferer] = useState(false)\r\n  const { login, errorAuth } = useUser()\r\n\r\n  const change = useCallback(\r\n    (name: string) => (event: any) => {\r\n      if (name === 'email') {\r\n        setEmail(event.target.value)\r\n      } else if (name === 'password') {\r\n        setPassword(event.target.value)\r\n      }\r\n    },\r\n    []\r\n  )\r\n\r\n  const submit = (event: any) => {\r\n    event.preventDefault()\r\n    login(email, password)\r\n  }\r\n\r\n  if (redirectToRefferer) {\r\n    return (\r\n      <Redirect\r\n        to={(location && location.state && location.state.from) || path.home}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit} style={{ width: '100%' }}>\r\n      <div className=\"field\">\r\n        <div className=\"control has-icons-left has-icons-right\">\r\n          <Input\r\n            autoFocus={true}\r\n            ariaLabel=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={change('email')}\r\n            className=\"input\"\r\n            type=\"email\"\r\n            iconLeft=\"fa-envelope\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"field\">\r\n        <div className=\"control has-icons-left\">\r\n          <Input\r\n            placeholder=\"Mot de passe\"\r\n            ariaLabel=\"Mot de passe\"\r\n            value={password}\r\n            onChange={change('password')}\r\n            className=\"input\"\r\n            type=\"password\"\r\n            iconLeft=\"fa-lock\"\r\n          />\r\n        </div>\r\n        <div className=\"has-text-right\" style={{ marginTop: 4 }}>\r\n          <Link to={path.reset} className=\"is-text\">\r\n            Mot de passe oubli ?\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"has-text-centered\">{render(email, password, submit)}</div>\r\n      {errorAuth && (\r\n        <React.Fragment>\r\n          <br />\r\n          <Notification className=\"is-danger has-text-centered\">\r\n            {errorAuth.message}\r\n          </Notification>\r\n        </React.Fragment>\r\n      )}\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState, useCallback } from 'react'\r\n// Components\r\nimport { Icon, Notification, PwdForm, useUser } from '../../../components'\r\n\r\ninterface ISubscribeFormProps {\r\n  /** render props of the submit buttons */\r\n  render: any\r\n}\r\n\r\nexport const SubscribeForm = ({ render }: ISubscribeFormProps) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [checkPassword, setCheckPassword] = useState('')\r\n  const [pwdSame, setPwdSame] = useState(false)\r\n  const [pwdValid, setPwdValid] = useState(false)\r\n  const [send] = useState(false)\r\n  const { register, errorAuth } = useUser()\r\n\r\n  const submit = (event: any) => {\r\n    event.preventDefault()\r\n    register(email, password)\r\n  }\r\n\r\n  const change = useCallback(\r\n    (name: string, validInput?: boolean) => (event: any) => {\r\n      switch (name) {\r\n        case 'password':\r\n          setPassword(event.target.value)\r\n          setPwdValid(validInput ? validInput : false)\r\n          break\r\n        case 'checkPassword':\r\n          setCheckPassword(event.target.value)\r\n          setPwdSame(validInput ? validInput : false)\r\n          break\r\n        case 'email':\r\n          setEmail(event.target.value)\r\n      }\r\n    },\r\n    []\r\n  )\r\n\r\n  return (\r\n    <form onSubmit={submit} style={{ width: '100%' }}>\r\n      {!send && (\r\n        <React.Fragment>\r\n          <div className=\"field\">\r\n            <div className=\"control has-icons-left has-icons-right\">\r\n              <input\r\n                autoFocus={true}\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChange={change('email')}\r\n                className=\"input\"\r\n                type=\"email\"\r\n                aria-label=\"email input\"\r\n              />\r\n              <Icon name=\"fa-envelope\" className=\"is-medium is-left\" />\r\n            </div>\r\n          </div>\r\n          <PwdForm\r\n            change={change}\r\n            password={password}\r\n            checkPassword={checkPassword}\r\n            pwdSame={pwdSame}\r\n            pwdValid={pwdValid}\r\n          />\r\n          <div className=\"has-text-centered\">\r\n            {render(email, password, checkPassword, pwdValid, pwdSame)}\r\n          </div>\r\n\r\n          {errorAuth && (\r\n            <React.Fragment>\r\n              <br />\r\n              <Notification className=\"is-danger has-text-centered\">\r\n                {errorAuth.message}\r\n              </Notification>\r\n            </React.Fragment>\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n\r\n      {send && (\r\n        <Notification className=\"is-success has-text-centered\">\r\n          Vous allez recevoir dans quelques instants un email avec un lien pour\r\n          activer votre compte. Pensez le cas chant  vrifier vos spams.\r\n        </Notification>\r\n      )}\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\n// Components\r\nimport { Vote, ResultBar, Icon } from '../../../components'\r\n\r\n// Interfaces\r\nimport { IUser, IAmend } from '../../../../../interfaces'\r\n\r\ninterface IResultFooterProps {\r\n  /** Related event */\r\n  target: IAmend\r\n  /** user data */\r\n  user: IUser | null\r\n}\r\n\r\nexport const ResultFooterCard = ({ target, user }: IResultFooterProps) => (\r\n  <div className=\"is-flex\">\r\n    <div\r\n      className=\"card-event__resultbar--size\"\r\n      style={{ flex: 1, marginRight: '20px' }}\r\n    >\r\n      <ResultBar\r\n        results={{\r\n          up: target.results.upVotesCount,\r\n          down: target.results.downVotesCount,\r\n          ind: target.results.indVotesCount\r\n        }}\r\n      />\r\n    </div>\r\n    <div>\r\n      <Vote\r\n        amend={target}\r\n        match={{ params: { id: target.id } }}\r\n        user={user}\r\n        withIcon={true}\r\n        style={{ justifyContent: 'flex-end' }}\r\n      />\r\n    </div>\r\n  </div>\r\n)\r\n","import React from 'react'\r\n// Components\r\nimport { Buttons, Button, ApiContext } from '../../../components'\r\n\r\ninterface IEditArgumentProps {\r\n  /** Amend ID */\r\n  amendID: string\r\n}\r\n\r\nexport const EditArgument = ({ amendID }: IEditArgumentProps) => {\r\n  const [firstStep, setFirstStep] = React.useState(false)\r\n  const [type, setType] = React.useState('up')\r\n  const [text, setText] = React.useState('')\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const changeType = (type: string) => {\r\n    setType(type)\r\n    setFirstStep(true)\r\n  }\r\n\r\n  const changeText = (event: any) => {\r\n    setText(event.target.value)\r\n  }\r\n\r\n  const submit = (event: any) => {\r\n    event.preventDefault()\r\n    Socket.emit('postArgument', { type, text, amendID })\r\n    setFirstStep(false)\r\n    setText('')\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit} style={{ width: '100%' }}>\r\n      {!firstStep && (\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <p className=\"has-text-centered\">Ecrire un nouvel argument ?</p>\r\n            <br />\r\n            <Buttons className=\"is-centered \">\r\n              <Button\r\n                className=\"is-info has-text-weight-semibold\"\r\n                onClick={() => changeType('up')}\r\n                style={{ flex: 1 }}\r\n              >\r\n                Pour\r\n              </Button>\r\n              <Button\r\n                className=\"is-danger has-text-weight-semibold\"\r\n                onClick={() => changeType('down')}\r\n                style={{ flex: 1 }}\r\n              >\r\n                Contre\r\n              </Button>\r\n            </Buttons>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {firstStep && (\r\n        <React.Fragment>\r\n          <div className=\"field\">\r\n            <div className=\"control\">\r\n              <textarea\r\n                className=\"textarea is-fullwidth\"\r\n                onChange={changeText}\r\n                placeholder=\"Votre argument ici\"\r\n                value={text}\r\n                rows={2}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"control\">\r\n            <Buttons>\r\n              <Button\r\n                disabled={text === ''}\r\n                className=\"is-primary has-text-weight-semibold\"\r\n                type=\"submit\"\r\n                style={{ flex: 1 }}\r\n              >\r\n                Valider\r\n              </Button>\r\n              <Button onClick={() => setFirstStep(false)}>Annuler</Button>\r\n            </Buttons>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react'\r\n// interfaces\r\nimport { IArgument, IUser } from '../../../../../interfaces'\r\n// Components\r\nimport { Media, Icon, StopWatch } from '../../../components'\r\n// Helpers\r\nimport { hasUserDownVote, hasUserUpVote } from '../../../helpers'\r\n\r\ninterface IArgumentProps {\r\n  data: IArgument\r\n  amendID: string\r\n  upVoteArgument: any\r\n  downVoteArgument: any\r\n  user: IUser | null\r\n}\r\n\r\nexport const Argument = ({\r\n  data,\r\n  amendID,\r\n  upVoteArgument,\r\n  downVoteArgument,\r\n  user\r\n}: IArgumentProps) => (\r\n  <Media>\r\n    <Media.Left>\r\n      <div\r\n        className=\"is-size-5\"\r\n        style={{ display: 'flex', flexDirection: 'column' }}\r\n      >\r\n        <a\r\n          className=\"button is-medium\"\r\n          onClick={() => upVoteArgument(data.id, amendID)}\r\n          style={{ border: 'none', background: 'none' }}\r\n        >\r\n          <Icon\r\n            name=\"fas fa-sort-up\"\r\n            style={{\r\n              fontSize: '2.5rem',\r\n              display: 'flex',\r\n              alignItems: 'flex-end'\r\n            }}\r\n            className={\r\n              user && hasUserUpVote(user.argumentUpVotes, amendID, data.id)\r\n                ? 'has-text-link'\r\n                : 'has-text-grey-light'\r\n            }\r\n            styleIcon={{ position: 'relative', top: '5%' }}\r\n          />\r\n        </a>\r\n        <p\r\n          className=\"has-text-weight-semibold is-size-5\"\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'center'\r\n          }}\r\n        >\r\n          {data.upVotesCount}\r\n        </p>\r\n        <a\r\n          className=\"button is-medium\"\r\n          onClick={() => downVoteArgument(data.id, amendID)}\r\n          style={{ border: 'none', background: 'none' }}\r\n        >\r\n          <Icon\r\n            name=\"fas fa-sort-down\"\r\n            style={{\r\n              fontSize: '2.5rem',\r\n              display: 'flex',\r\n              alignItems: 'flex-start'\r\n            }}\r\n            className={\r\n              user && hasUserDownVote(user.argumentDownVotes, amendID, data.id)\r\n                ? 'has-text-danger'\r\n                : 'has-text-grey-light'\r\n            }\r\n            styleIcon={{ position: 'relative', bottom: '5%' }}\r\n          />\r\n        </a>\r\n      </div>\r\n    </Media.Left>\r\n    <Media.Content>\r\n      <div className=\"content\">\r\n        <p>\r\n          {data.type === 'up' ? (\r\n            <strong>\r\n              <Icon name=\"fa-check\" className=\"has-text-info\" size=\"fa-lg\" />{' '}\r\n              Pour\r\n            </strong>\r\n          ) : (\r\n            <strong>\r\n              <Icon name=\"fa-times\" className=\"has-text-danger\" size=\"fa-lg\" />{' '}\r\n              Contre\r\n            </strong>\r\n          )}\r\n          {' - '}\r\n          <small className=\"is-italic\">\r\n            <StopWatch date={data.created} />\r\n          </small>\r\n          <br />\r\n        </p>\r\n        <p style={{ wordBreak: 'break-word' }}>{data.text}</p>\r\n      </div>\r\n    </Media.Content>\r\n  </Media>\r\n)\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport {\r\n  ConfirmAlert,\r\n  Button,\r\n  Icon,\r\n  Input,\r\n  useUser,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { useAlert } from '../../../hooks'\r\nimport { IUser } from '../../../../../interfaces'\r\nimport { callAll } from '../../../helpers'\r\n\r\nconst DeleteAccountMessage = ({ type, placeholder, ...rest }: any) => (\r\n  <React.Fragment>\r\n    <p>\r\n      <strong>Attention cette action est dfinitive et irrversible</strong>.\r\n      Elle entrainera la suppression de toutes vos donnes.\r\n    </p>\r\n    <div className=\"field\" style={{ marginTop: '0.4rem' }}>\r\n      <Input\r\n        type=\"email\"\r\n        placeholder=\"Tapez votre email pour confirmer\"\r\n        iconLeft=\"fa-envelope\"\r\n        ariaLabel=\"Tapez votre email pour confirmer\"\r\n        className=\"is-danger\"\r\n        {...rest}\r\n      />\r\n    </div>\r\n  </React.Fragment>\r\n)\r\n\r\ninterface IDeleteAccountProps {\r\n  /** User data */\r\n  user: IUser\r\n}\r\n\r\nexport const DeleteAccount = ({ user }: IDeleteAccountProps) => {\r\n  const [email, setEmail] = useState('')\r\n  const { showAlert, openAlert, closeAlert } = useAlert()\r\n  const { logout } = useUser()\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      Socket.off('deleteAccount')\r\n    }\r\n  }, [])\r\n\r\n  const change = useCallback((event: any) => {\r\n    setEmail(event.target.value)\r\n  }, [])\r\n\r\n  const deleteAccount = async () => {\r\n    await Socket.fetch('deleteAccount')\r\n      .then(logout)\r\n      .catch(console.error)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {showAlert ? (\r\n        <ConfirmAlert\r\n          message={<DeleteAccountMessage onChange={change} />}\r\n          disabled={user.email !== email}\r\n          onConfirm={callAll(deleteAccount, closeAlert)}\r\n          onCancel={closeAlert}\r\n          className=\"is-danger\"\r\n        />\r\n      ) : (\r\n        <Button\r\n          onClick={openAlert}\r\n          className=\"is-danger is-outlined is-fullwidth\"\r\n        >\r\n          <Icon type={'solid'} name=\"fa-trash-alt\" />\r\n          <span>Supprimer mon compte</span>\r\n        </Button>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  TextEventCard,\r\n  AmendEventCard,\r\n  ResultEventCard,\r\n  useUser,\r\n  withEventCard,\r\n  ModalContainer,\r\n  ArgumentModal\r\n} from '../../../components'\r\n// Interfaces\r\nimport { INews } from '../../../../../interfaces'\r\n\r\ninterface IEventRowProps {\r\n  /** Following event */\r\n  data: INews\r\n  /** Tell if the event is new */\r\n  isNew: boolean\r\n  /** Index of the row */\r\n  index: number\r\n  measure: any\r\n}\r\n\r\nconst displayRightEvent = (type: string): React.ComponentType<any> => {\r\n  switch (type) {\r\n    case 'text':\r\n      return TextEventCard\r\n    case 'amend':\r\n      return AmendEventCard\r\n    case 'result':\r\n      return ResultEventCard\r\n    default:\r\n      return () => null\r\n  }\r\n}\r\n\r\nexport const EventRow = ({ data, measure, isNew, index }: IEventRowProps) => {\r\n  const { user } = useUser()\r\n  return (\r\n    <React.Fragment>\r\n      <ModalContainer>\r\n        <ModalContainer.Modal.Trigger\r\n          active={data.event.target.type === 'amend'}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: isNew ? 'rgba(255, 221, 87, 0.1)' : 'initial',\r\n              padding: '1rem'\r\n            }}\r\n          >\r\n            {data.target &&\r\n              data.target.data &&\r\n              withEventCard(measure, index, data.target.data, user)(\r\n                displayRightEvent(data.event.target.type)\r\n              )}\r\n          </div>\r\n\r\n          {data.target &&\r\n            data.target.data &&\r\n            data.event.target.type === 'amend' && (\r\n              <ModalContainer.Modal.Content>\r\n                <ArgumentModal amend={data.target.data} user={user} />\r\n              </ModalContainer.Modal.Content>\r\n            )}\r\n\r\n          <hr style={{ margin: 0, backgroundColor: '#e8e8e8' }} />\r\n        </ModalContainer.Modal.Trigger>\r\n      </ModalContainer>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\n// Components\r\nimport {\r\n  ProposeAmend,\r\n  Icon,\r\n  StopWatch,\r\n  FollowText,\r\n  UnFollowText,\r\n  Collapse,\r\n  Button,\r\n  Background,\r\n  CardLayout\r\n} from '../../../components'\r\n\r\n// Interfaces\r\nimport { IUser, IText } from '../../../../../interfaces'\r\n\r\ninterface ITextEventCard {\r\n  /** Related event */\r\n  target: IText\r\n  /** user data */\r\n  user: IUser | null\r\n  /** Index of the card */\r\n  index: number\r\n  measure: any\r\n}\r\n\r\nexport const TextEventCard = ({ target, user, measure }: ITextEventCard) => {\r\n  React.useEffect(() => {\r\n    if (measure && target) {\r\n      measure()\r\n    }\r\n  }, [measure, target])\r\n\r\n  return (\r\n    <CardLayout>\r\n      <CardLayout.Icon>\r\n        <Icon\r\n          type={'light'}\r\n          name=\"fa-align-center\"\r\n          className=\"fa-2x has-text-info is-large\"\r\n        />\r\n      </CardLayout.Icon>\r\n      <CardLayout.Description>\r\n        <p>\r\n          <strong>{target.name}</strong>\r\n          {' - '}\r\n          <small style={{ wordSpacing: 'normal' }}>\r\n            <StopWatch date={target.created} />\r\n          </small>\r\n          <br />\r\n          {target.description}\r\n        </p>\r\n      </CardLayout.Description>\r\n      <CardLayout.Detail>\r\n        {target.actual.length > 0 && (\r\n          <Collapse isOpen={target.actual.length < 1500}>\r\n            <Collapse.Trigger style={{ marginLeft: '60px' }} onClick={measure}>\r\n              {(on: boolean) =>\r\n                on ? (\r\n                  <Button\r\n                    style={{\r\n                      background: 'none',\r\n                      margin: '0.5rem 0 0.5rem 0',\r\n                      padding: 0\r\n                    }}\r\n                    className=\"no-focus-outlined is-text\"\r\n                  >\r\n                    Rduire le texte\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    style={{\r\n                      background: 'none',\r\n                      margin: '0.5rem 0 0.5rem 0',\r\n                      padding: 0\r\n                    }}\r\n                    className=\"no-focus-outlined has-text-info is-text\"\r\n                  >\r\n                    Afficher le texte\r\n                  </Button>\r\n                )\r\n              }\r\n            </Collapse.Trigger>\r\n            <Collapse.Detail style={{ marginTop: '0.5rem', padding: '1rem' }}>\r\n              <Background className=\"has-background-light\">\r\n                {target.actual &&\r\n                  target.actual\r\n                    .split('\\n')\r\n                    .map((line: string, index: number) =>\r\n                      line ? <p key={index}>{line}</p> : <br key={index} />\r\n                    )}\r\n              </Background>\r\n            </Collapse.Detail>\r\n          </Collapse>\r\n        )}\r\n      </CardLayout.Detail>\r\n      <CardLayout.Footer>\r\n        <div className=\"card-event__footer\">\r\n          <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n            <div>\r\n              {user ? (\r\n                <ProposeAmend withIcon={true} text={target} />\r\n              ) : (\r\n                <div\r\n                  className=\"has-text-grey-light\"\r\n                  style={{ border: 'none', padding: 'none' }}\r\n                >\r\n                  <Icon\r\n                    type={'light'}\r\n                    name=\"fa-pencil-alt\"\r\n                    className=\"fa-lg\"\r\n                    style={{ marginRight: '0.5rem' }}\r\n                  />\r\n                  {target.amends.length}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div style={{ marginLeft: '1.5rem' }}>\r\n              {user ? (\r\n                user.followedTexts.find(textID => textID === target.id) ? (\r\n                  <UnFollowText\r\n                    text={target}\r\n                    withIcon={true}\r\n                    className=\"has-text-info\"\r\n                  />\r\n                ) : (\r\n                  <FollowText text={target} withIcon={true} />\r\n                )\r\n              ) : (\r\n                <div\r\n                  className=\"has-text-grey-light\"\r\n                  style={{ border: 'none', padding: '0px 1.5rem 0px 0px' }}\r\n                >\r\n                  <Icon\r\n                    type={'light'}\r\n                    name=\"fa-user\"\r\n                    className=\"fa-lg\"\r\n                    style={{ marginRight: '0.5rem' }}\r\n                  />\r\n                  {target.followersCount}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardLayout.Footer>\r\n    </CardLayout>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\n\r\n// Components\r\nimport {\r\n  Icon,\r\n  Collapse,\r\n  Button,\r\n  StopWatch,\r\n  CountDown,\r\n  DiffPreview,\r\n  DataContext,\r\n  CardLayout,\r\n  ResultFooterCard,\r\n  Divider\r\n} from '../../../components'\r\n\r\n// Interfaces\r\nimport { IUser, IResponse, IText, IAmend } from '../../../../../interfaces'\r\n\r\n// Services\r\nimport { Time } from '../../../services'\r\n\r\ninterface IAmendEventCardProps {\r\n  /** Related event */\r\n  target: IAmend\r\n  /** user data */\r\n  user: IUser | null\r\n  measure?: any\r\n  /** Index of the card */\r\n  index?: number\r\n}\r\n\r\nconst isTooLongPatch = (patch: string | null) =>\r\n  patch !== null && patch.length > 1500\r\n\r\nexport const AmendEventCard = ({\r\n  target,\r\n  user,\r\n  measure\r\n}: IAmendEventCardProps) => {\r\n  const { get } = useContext(DataContext)\r\n  const text: IResponse<IText> = get('text')(target.text)\r\n\r\n  React.useEffect(() => {\r\n    if (measure && target && isTooLongPatch(target.patch)) {\r\n      measure()\r\n    }\r\n  }, [measure, target, user])\r\n\r\n  return (\r\n    <CardLayout>\r\n      <CardLayout.Icon>\r\n        <Icon\r\n          type={'light'}\r\n          name=\"fa-box-ballot\"\r\n          className=\"fa-2x has-text-primary is-large\"\r\n        />\r\n      </CardLayout.Icon>\r\n      <CardLayout.Description>\r\n        <div>\r\n          <p style={{ margin: 0 }}>\r\n            <strong>Vote en cours</strong>\r\n            {' - '}\r\n            <small style={{ wordSpacing: 'normal' }}>\r\n              <StopWatch date={target.created} />\r\n            </small>\r\n          </p>\r\n          <div style={{ marginTop: '0.5em' }}>\r\n            {target.closed ? (\r\n              <span className=\"has-text-weight-light is-italic\">\r\n                Amendement termin.\r\n              </span>\r\n            ) : (\r\n              <React.Fragment>\r\n                <span className=\"has-text-weight-light\">\r\n                  Temps restant pour voter :{' '}\r\n                </span>\r\n                <CountDown\r\n                  date={Time.addTimeToDate(\r\n                    target.created,\r\n                    target.rules.delayMax\r\n                  )}\r\n                  className=\"has-text-weight-semibold\"\r\n                />\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n          <p style={{ marginTop: '0.5em' }}>\r\n            <span className=\"has-text-weight-semibold\">\r\n              Titre : {target.name}\r\n            </span>\r\n            <br />\r\n            Description : {target.description}\r\n          </p>\r\n        </div>\r\n      </CardLayout.Description>\r\n      {text && text.data && target && (\r\n        <CardLayout.Detail>\r\n          <Collapse isOpen={!isTooLongPatch(target.patch)}>\r\n            <Collapse.Trigger style={{ marginLeft: '60px' }} onClick={measure}>\r\n              {(on: boolean) =>\r\n                on ? (\r\n                  <Button\r\n                    style={{\r\n                      background: 'none',\r\n                      margin: '0.5rem 0 0.5rem 0',\r\n                      padding: 0\r\n                    }}\r\n                    className=\"no-focus-outlined is-text\"\r\n                  >\r\n                    Rduire les modifications proposes\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    style={{\r\n                      background: 'none',\r\n                      margin: '0.5rem 0 0.5rem 0',\r\n                      padding: 0\r\n                    }}\r\n                    className=\"no-focus-outlined has-text-info is-text\"\r\n                  >\r\n                    Afficher les modifications proposes\r\n                  </Button>\r\n                )\r\n              }\r\n            </Collapse.Trigger>\r\n            <Collapse.Detail style={{ marginTop: '0.5rem', padding: '1rem' }}>\r\n              <Divider content=\"Modifications proposes\" />\r\n              <DiffPreview amend={target} text={text.data} measure={measure} />\r\n            </Collapse.Detail>\r\n          </Collapse>\r\n        </CardLayout.Detail>\r\n      )}\r\n      <CardLayout.Footer>\r\n        <div className=\"card-event__footer\">\r\n          <ResultFooterCard target={target} user={user} />\r\n        </div>\r\n      </CardLayout.Footer>\r\n    </CardLayout>\r\n  )\r\n}\r\n","import { IAmend } from '../../../../../interfaces'\r\n\r\n/**\r\n * Return the right icon depending on the result of the vote\r\n * @param amend current amend\r\n */\r\nexport const getIconFromResult = (amend: IAmend) =>\r\n  amend.conflicted ? 'fa-times' : amend.accepted ? 'fa-check' : 'fa-times'\r\n/**\r\n * Return the right text color depending on the result of the vote\r\n * @param amend current Amend\r\n */\r\nexport const getColorTextFromResult = (amend: IAmend) =>\r\n  amend.conflicted\r\n    ? 'has-text-dark'\r\n    : amend.accepted\r\n    ? 'has-text-success'\r\n    : 'has-text-danger'\r\n\r\n/**\r\n * Return the right color depending on the result of the vote\r\n * @param amend current amend\r\n */\r\nexport const getColorFromResult = (amend: IAmend) =>\r\n  amend.conflicted\r\n    ? 'hsl(0, 0%, 21%)'\r\n    : amend.accepted\r\n    ? 'hsl(141, 71%, 48%)'\r\n    : 'hsl(348, 100%, 61%)'\r\n\r\n/**\r\n * Return the right text depending on the result of the vote\r\n * @param amend current amend\r\n */\r\nexport const getTextFromResult = (amend: IAmend) =>\r\n  amend.conflicted\r\n    ? \"refus  cause d'un conflit technique\"\r\n    : amend.accepted\r\n    ? 'accept par les participants'\r\n    : 'refus par les participants'\r\n","// Dependencies\r\nimport React from 'react'\r\n\r\n// Components\r\nimport {\r\n  Icon,\r\n  Collapse,\r\n  Button,\r\n  StopWatch,\r\n  DiffPreview,\r\n  DataContext,\r\n  ResultFooterCard,\r\n  CardLayout,\r\n  Divider\r\n} from '../../../components'\r\n\r\n// Interfaces\r\nimport { IUser, IText, IResponse, IAmend } from '../../../../../interfaces'\r\n\r\n// Helpers\r\nimport {\r\n  getIconFromResult,\r\n  getColorTextFromResult,\r\n  getTextFromResult\r\n} from './helper'\r\n\r\ninterface IResultEventCardProps {\r\n  /** Related event */\r\n  target: IAmend\r\n  /** user data */\r\n  user: IUser | null\r\n  measure: any\r\n  /** Index of the card */\r\n  index: number\r\n}\r\n\r\nconst isTooLongPatch = (patch: string | null) =>\r\n  patch !== null && patch.length > 1500\r\n\r\nexport const ResultEventCard = ({\r\n  target,\r\n  user,\r\n  measure\r\n}: IResultEventCardProps) => {\r\n  const { get } = React.useContext(DataContext)\r\n  const text: IResponse<IText> = get('text')(target.text)\r\n\r\n  React.useEffect(() => {\r\n    if (measure && target && isTooLongPatch(target.patch)) {\r\n      measure()\r\n    }\r\n  }, [measure, target, user])\r\n\r\n  return (\r\n    <CardLayout>\r\n      <CardLayout.Icon>\r\n        <Icon\r\n          name={getIconFromResult(target)}\r\n          type={'light'}\r\n          size=\"fa-2x\"\r\n          className={getColorTextFromResult(target) + ' is-large'}\r\n        />\r\n      </CardLayout.Icon>\r\n      <CardLayout.Description>\r\n        <div>\r\n          <strong>Rsultat</strong>\r\n          {' - '}\r\n          <small style={{ wordSpacing: 'normal' }}>\r\n            <StopWatch date={target.created} />\r\n          </small>\r\n          <br />\r\n          <p>\r\n            L'amendement{' '}\r\n            <span className=\"has-text-weight-semibold\">\"{target.name}\"</span> a\r\n            t {getTextFromResult(target)}\r\n          </p>\r\n        </div>\r\n      </CardLayout.Description>\r\n      <CardLayout.Detail>\r\n        {text && text.data && target && (\r\n          <Collapse isOpen={!isTooLongPatch(target.patch)}>\r\n            <Collapse.Trigger style={{ marginLeft: '60px' }} onClick={measure}>\r\n              {(on: boolean) =>\r\n                on ? (\r\n                  <Button\r\n                    style={{\r\n                      background: 'none',\r\n                      margin: '0.5rem 0 0.5rem 0',\r\n                      padding: 0\r\n                    }}\r\n                    className=\"no-focus-outlined is-text\"\r\n                  >\r\n                    Rduire les modifications proposes\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    style={{\r\n                      background: 'none',\r\n                      margin: '0.5rem 0 0.5rem 0',\r\n                      padding: 0\r\n                    }}\r\n                    className=\"no-focus-outlined has-text-info is-text\"\r\n                  >\r\n                    Afficher les modifications proposes\r\n                  </Button>\r\n                )\r\n              }\r\n            </Collapse.Trigger>\r\n            <Collapse.Detail style={{ marginTop: '0.5rem', padding: '1rem' }}>\r\n              <Divider content=\"Modifications proposes\" />\r\n              <DiffPreview amend={target} text={text.data} measure={measure} />\r\n            </Collapse.Detail>\r\n          </Collapse>\r\n        )}\r\n      </CardLayout.Detail>\r\n      <CardLayout.Footer>\r\n        {!target.conflicted && (\r\n          <div className=\"card-event__footer\">\r\n            <ResultFooterCard target={target} user={null} />\r\n          </div>\r\n        )}\r\n      </CardLayout.Footer>\r\n    </CardLayout>\r\n  )\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport { Button, LoginForm, SubscribeForm, Buttons } from '../../../components'\r\n// Hooks\r\nimport { useToggle } from '../../../hooks'\r\n// Helpers\r\nimport { callAll } from '../../../helpers'\r\n\r\ninterface IAuthentificationFormProps {\r\n  location?: any\r\n}\r\n\r\nexport const AuthentificationForm = ({\r\n  location\r\n}: IAuthentificationFormProps) => {\r\n  const loginToggle = useToggle(true)\r\n  const subscribeToggle = useToggle(false)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {displayLogin(\r\n        loginToggle.on,\r\n        loginToggle.toggler,\r\n        subscribeToggle.toggler,\r\n        location\r\n      )}\r\n      {displaySubscribe(\r\n        subscribeToggle.on,\r\n        subscribeToggle.toggler,\r\n        loginToggle.toggler\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst displayLogin = (\r\n  loginToggleState: boolean,\r\n  loginToggler: () => void,\r\n  subscribeToggler: () => void,\r\n  location?: any\r\n) => {\r\n  return loginToggleState ? (\r\n    <LoginForm\r\n      location={location}\r\n      render={(email: string, password: string) => (\r\n        <Buttons>\r\n          <Button\r\n            type=\"submit\"\r\n            className=\"is-info is-fullwidth\"\r\n            disabled={!email || !password}\r\n          >\r\n            Connexion\r\n          </Button>\r\n          <Button\r\n            onClick={callAll(loginToggler, subscribeToggler)}\r\n            className=\"is-fullwidth is-outlined\"\r\n          >\r\n            Je n'ai pas de compte\r\n          </Button>\r\n        </Buttons>\r\n      )}\r\n    />\r\n  ) : null\r\n}\r\n\r\nconst displaySubscribe = (\r\n  subscribeToggleState: boolean,\r\n  subscribeToggler: () => void,\r\n  loginToggler: () => void\r\n) => {\r\n  return subscribeToggleState ? (\r\n    <SubscribeForm\r\n      render={(\r\n        email: string,\r\n        password: string,\r\n        checkPassword: string,\r\n        pwdValid: boolean,\r\n        pwdSame: boolean\r\n      ) => {\r\n        return (\r\n          <Buttons>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"is-info is-fullwidth\"\r\n              disabled={!email || (!password && !pwdValid) || !pwdSame}\r\n            >\r\n              Inscription\r\n            </Button>\r\n            <Button\r\n              onClick={callAll(subscribeToggler, loginToggler)}\r\n              className=\"is-fullwidth is-outlined\"\r\n            >\r\n              J'ai dj un compte\r\n            </Button>\r\n          </Buttons>\r\n        )\r\n      }}\r\n    />\r\n  ) : null\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport { useUser, Argument, ApiContext } from '../../../components'\r\n// Interfaces\r\nimport { IArgument } from '../../../../../interfaces'\r\n// Helpers\r\nimport { hasUserDownVote, hasUserUpVote } from '../../../helpers'\r\n\r\ninterface IEventRowProps {\r\n  /** Following event */\r\n  data: IArgument\r\n  /** ID of the amend */\r\n  amendID: string\r\n  /** Index of the row */\r\n  index: number\r\n  measure: any\r\n}\r\n\r\nexport const ArgumentRow = ({\r\n  data,\r\n  amendID,\r\n  measure,\r\n  index\r\n}: IEventRowProps) => {\r\n  const { user } = useUser()\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const upVoteArgument = (argumentID: string, amendID: string) => {\r\n    if (user) {\r\n      hasUserUpVote(user.argumentUpVotes, amendID, data.id)\r\n        ? Socket.emit('unVoteArgument', { amendID, argumentID })\r\n        : Socket.emit('upVoteArgument', { amendID, argumentID })\r\n    }\r\n  }\r\n\r\n  const downVoteArgument = (argumentID: string, amendID: string) => {\r\n    if (user) {\r\n      hasUserDownVote(user.argumentDownVotes, amendID, data.id)\r\n        ? Socket.emit('unVoteArgument', { amendID, argumentID })\r\n        : Socket.emit('downVoteArgument', { amendID, argumentID })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop: index !== 0 ? '1rem' : 0 }}>\r\n      <Argument\r\n        data={data}\r\n        amendID={amendID}\r\n        upVoteArgument={upVoteArgument}\r\n        downVoteArgument={downVoteArgument}\r\n        user={user}\r\n      />\r\n      <hr style={{ margin: 0 }} />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { NotificationAlert } from '../../../components'\r\n\r\nexport const Alerts = () => (\r\n  <React.Fragment>\r\n    <NotificationAlert />\r\n  </React.Fragment>\r\n)\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {\r\n  Amend,\r\n  Button,\r\n  Column,\r\n  Columns,\r\n  Icon,\r\n  useUser,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { path } from '../../../config'\r\nimport debounce from 'lodash/debounce'\r\nimport { createPatch } from 'diff'\r\n\r\ninterface IEditProps {\r\n  data: any\r\n}\r\n\r\nexport const Edit = ({ data }: IEditProps) => {\r\n  const { isConnected } = useUser()\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const [amendName, setAmendName] = React.useState('')\r\n  const [amendDescription, setAmendDescription] = React.useState('')\r\n  const [redirectToAmend, setRedirectToAmend] = React.useState(false)\r\n  const [initialValue] = React.useState(data ? data.actual : '')\r\n  const [amendValue, setAmendValue] = React.useState(data ? data.actual : '')\r\n  const [text] = React.useState(data)\r\n  const [patch, setPatch] = React.useState<any>(null)\r\n\r\n  const computeDiff = debounce(() => {\r\n    setPatch(\r\n      createPatch('', initialValue, amendValue, '', '', {\r\n        context: 1\r\n      })\r\n    )\r\n  }, 100)\r\n\r\n  React.useEffect(() => {\r\n    computeDiff()\r\n  }, [amendValue])\r\n\r\n  const restoreInitialValue = () => {\r\n    setAmendValue(initialValue)\r\n  }\r\n\r\n  const hasDiffs = () => initialValue !== amendValue\r\n\r\n  const addAmend = () => {\r\n    // Add a newline at the amendValue end\r\n    // by default to avoid some conflicts\r\n    if (!amendValue.endsWith('\\n')) {\r\n      setAmendValue(initialValue + '\\n')\r\n      postAmend()\r\n    } else {\r\n      postAmend()\r\n    }\r\n  }\r\n\r\n  const postAmend = () => {\r\n    Socket.fetch('postAmend', {\r\n      name: amendName,\r\n      description: amendDescription,\r\n      version: text.patches.length,\r\n      textID: text.id,\r\n      patch\r\n    }).then((amend: any) => {\r\n      setRedirectToAmend(true)\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      Socket.off('postAmend')\r\n    }\r\n  }, [])\r\n\r\n  if (redirectToAmend) {\r\n    return <Redirect to={path.home} />\r\n  }\r\n\r\n  return (\r\n    <Columns>\r\n      <Column>\r\n        <div className=\"field\">\r\n          <label htmlFor=\"title\" className=\"label\">\r\n            Titre de l'amendement\r\n            <div className=\"control\">\r\n              <input\r\n                required\r\n                name=\"title\"\r\n                className=\"input\"\r\n                type=\"text\"\r\n                autoFocus={true}\r\n                value={amendName}\r\n                onChange={event => {\r\n                  setAmendName(event.target.value)\r\n                }}\r\n                placeholder=\"Nommez votre amendement en quelques mots\"\r\n              />\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label htmlFor=\"description\" className=\"label\">\r\n            Description / Argumentaire\r\n            <div className=\"control\">\r\n              <textarea\r\n                required\r\n                rows={4}\r\n                name=\"description\"\r\n                value={amendDescription}\r\n                onChange={event => {\r\n                  setAmendDescription(event.target.value)\r\n                }}\r\n                className=\"textarea\"\r\n                placeholder=\"Dfendez votre amendement en quelques phrases\"\r\n              />\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label htmlFor=\"editor\" className=\"label\">\r\n            Editeur du texte\r\n            <div className=\"control\">\r\n              <textarea\r\n                rows={8}\r\n                name=\"editor\"\r\n                className=\"textarea\"\r\n                value={amendValue}\r\n                onChange={event => {\r\n                  setAmendValue(event.target.value)\r\n                }}\r\n              />\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        <Button\r\n          onClick={restoreInitialValue}\r\n          className=\"is-danger is-outlined is-fullwidth\"\r\n        >\r\n          <Icon type={'solid'} name=\"fa-undo\" />\r\n          <span>Restaurer le texte initial</span>\r\n        </Button>\r\n\r\n        {hasDiffs() ? (\r\n          <Amend\r\n            amend={{\r\n              name: amendName,\r\n              description: amendDescription,\r\n              version: text.patches.length,\r\n              patch\r\n            }}\r\n            text={text}\r\n          />\r\n        ) : (\r\n          <React.Fragment>\r\n            <br />\r\n            <p className=\"has-text-centered has-text-danger\">\r\n              Aucune modification  afficher\r\n            </p>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        <br />\r\n\r\n        <Button\r\n          onClick={addAmend}\r\n          disabled={\r\n            !hasDiffs() || !amendName || !amendDescription || !isConnected()\r\n          }\r\n          className=\"is-success is-fullwidth\"\r\n        >\r\n          Proposer cet amendement\r\n        </Button>\r\n      </Column>\r\n    </Columns>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Logo,\r\n  Link,\r\n  useUser,\r\n  EventsContext,\r\n  I18nContext,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { path } from '../../../config'\r\n\r\nexport const Navbar = () => {\r\n  const userContext = useUser()\r\n  const i18nContext = React.useContext(I18nContext)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const [burgerIsActive, setBurgerActive] = React.useState(false)\r\n  const { hasNextPage } = React.useContext(EventsContext)\r\n\r\n  React.useEffect(() => {\r\n    if (userContext.user && hasNextPage) {\r\n      Socket.emit('events')\r\n    }\r\n  }, [userContext.user])\r\n\r\n  return (\r\n    <nav\r\n      className=\"navbar is-fixed-top is-dark\"\r\n      role=\"navigation\"\r\n      aria-label=\"main navigation\"\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <Link\r\n            to={path.home}\r\n            onClick={() => setBurgerActive(false)}\r\n            className={'navbar-item has-text-weight-semibold'}\r\n            style={{ textDecoration: 'none' }}\r\n          >\r\n            <Logo\r\n              size={36}\r\n              className=\"is-hidden-tablet\"\r\n              style={{ fill: 'white' }}\r\n            />\r\n            <Logo\r\n              size={42}\r\n              className=\"is-hidden-mobile\"\r\n              style={{ fill: 'white' }}\r\n            />\r\n            <span style={{ marginLeft: 8 }}>Emendare</span>\r\n          </Link>\r\n          <a\r\n            role=\"button\"\r\n            onClick={() => setBurgerActive(!burgerIsActive)}\r\n            className={\r\n              'navbar-burger burger ' + (burgerIsActive ? 'is-active' : '')\r\n            }\r\n            aria-label=\"menu\"\r\n            aria-expanded={burgerIsActive}\r\n            data-target=\"navbar-menu\"\r\n          >\r\n            <span aria-hidden=\"true\" />\r\n            <span aria-hidden=\"true\" />\r\n            <span aria-hidden=\"true\" />\r\n          </a>\r\n        </div>\r\n        <div\r\n          id=\"navbar-menu\"\r\n          className={'navbar-menu ' + (burgerIsActive ? 'is-active' : '')}\r\n        >\r\n          <div className=\"navbar-end\">\r\n            <a\r\n              href=\"#\"\r\n              role=\"button\"\r\n              className={`navbar-item ${\r\n                i18nContext.actualLanguage === 'FR'\r\n                  ? 'has-text-weight-bold'\r\n                  : ''\r\n              }`}\r\n              onClick={() => {\r\n                i18nContext.dispatch({\r\n                  type: 'setLanguage',\r\n                  payload: 'FR'\r\n                })\r\n              }}\r\n            >\r\n              FR\r\n            </a>\r\n            <a\r\n              href=\"#\"\r\n              role=\"button\"\r\n              className={`\r\n                navbar-item ${\r\n                  i18nContext.actualLanguage === 'EN'\r\n                    ? 'has-text-weight-bold'\r\n                    : ''\r\n                }`}\r\n              onClick={() => {\r\n                i18nContext.dispatch({\r\n                  type: 'setLanguage',\r\n                  payload: 'EN'\r\n                })\r\n              }}\r\n            >\r\n              EN\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport {\r\n  Link,\r\n  Icon,\r\n  I18nContext,\r\n  useUser,\r\n  EventsContext,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { Title } from '../../../services'\r\nimport { path } from '../../../config'\r\nimport useLocation from 'react-use/lib/useLocation'\r\n\r\nexport const Navtabs = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const location = useLocation()\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const userContext = useUser()\r\n  const { newEvents, hasNextPage } = React.useContext(EventsContext)\r\n\r\n  useEffect(() => {\r\n    if (userContext.user && hasNextPage) {\r\n      Socket.emit('events')\r\n    }\r\n  }, [userContext.user])\r\n\r\n  const newEventsCount = userContext.user ? newEvents.length : 0\r\n  Title.badgeCount = newEventsCount\r\n\r\n  return (\r\n    <div id=\"navtabs\" style={{ backgroundColor: 'white' }}>\r\n      <div className=\"container\">\r\n        <div className={'tabs is-fullwidth is-centered is-medium'}>\r\n          <ul>\r\n            <li className={location.pathname === path.home ? 'is-active' : ''}>\r\n              <Link to={path.home} style={{ borderRadius: 0 }}>\r\n                <Icon\r\n                  type={'light'}\r\n                  name=\"fa-home\"\r\n                  className={newEventsCount > 0 ? 'badge is-badge-danger' : ''}\r\n                  data-badge={newEventsCount}\r\n                />\r\n                <span className=\"is-hidden-mobile\">{translate('HOME')}</span>\r\n              </Link>\r\n            </li>\r\n            <li className={location.pathname === path.texts ? 'is-active' : ''}>\r\n              <Link to={path.texts} style={{ borderRadius: 0 }}>\r\n                <Icon type={'light'} name=\"fa-align-center\" />\r\n                <span className=\"is-hidden-mobile\">{translate('TEXTS')}</span>\r\n              </Link>\r\n            </li>\r\n            <li className={location.pathname === path.votes ? 'is-active' : ''}>\r\n              <Link to={path.votes} style={{ borderRadius: 0 }}>\r\n                <Icon type={'light'} name=\"fa-box-ballot\" />\r\n                <span className=\"is-hidden-mobile\">{translate('VOTES')}</span>\r\n              </Link>\r\n            </li>\r\n            <li\r\n              className={location.pathname === path.results ? 'is-active' : ''}\r\n            >\r\n              <Link to={path.results} style={{ borderRadius: 0 }}>\r\n                <Icon type={'light'} name=\"fa-chart-pie-alt\" />\r\n                <span className=\"is-hidden-mobile\">{translate('RESULTS')}</span>\r\n              </Link>\r\n            </li>\r\n            <li\r\n              className={\r\n                'is-hidden-tablet ' +\r\n                (location.pathname === path.authentification ? 'is-active' : '')\r\n              }\r\n            >\r\n              <Link to={path.authentification} style={{ borderRadius: 0 }}>\r\n                <Icon type={'light'} name=\"fa-user\" />\r\n                <span className=\"is-hidden-mobile\">{translate('PROFILE')}</span>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { UpdatePassword, UpdateEmail, DeleteAccount } from '../../../components'\r\nimport { IUser } from '../../../../../interfaces'\r\n\r\ninterface IUserCredentialsProps {\r\n  user: IUser\r\n}\r\n\r\nexport const UserCredentials = ({ user }: IUserCredentialsProps) => (\r\n  <React.Fragment>\r\n    <p className=\"has-text-weight-semibold\">Identifiants utilisateur</p>\r\n    <br />\r\n    <p style={{ marginBottom: '0.7rem' }}>Changement d'email</p>\r\n    <UpdateEmail />\r\n    <p style={{ marginBottom: '0.7rem' }}>Changement de mot de passe</p>\r\n    <UpdatePassword />\r\n    <hr />\r\n    <DeleteAccount user={user} />\r\n  </React.Fragment>\r\n)\r\n","import { IEvent, INews } from '../../../../../interfaces'\r\nimport last from 'lodash/last'\r\n\r\n/**\r\n * Tell if the row is loaded\r\n * @param data List of events we want to render\r\n * @param index Index of the row\r\n */\r\nexport const isRowLoaded = (data: INews[]) => ({ index }: any) => !!data[index]\r\n\r\n/**\r\n * Fetch data from a API\r\n * @param data List of events we want to render\r\n */\r\nexport const loadMoreRows = (Socket: any) => (\r\n  data: INews[],\r\n  hasNextPage: boolean\r\n) => async () => {\r\n  if (hasNextPage) {\r\n    Socket.emit('events', {\r\n      lastEventDate: last(data)!.event.created\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Tell if the event has not been readed by the user\r\n * @param newEvents List of new events\r\n * @param events  List of events\r\n * @param index Current row index\r\n */\r\nexport const isEventNew = (\r\n  newEvents: IEvent[],\r\n  events: INews[],\r\n  index: number\r\n) =>\r\n  newEvents.length > 0 && events.length > 0\r\n    ? newEvents.map(event => event.id).includes(events[index].event.id)\r\n    : false\r\n","/* eslint-disable sonarjs/cognitive-complexity */\r\nimport React from 'react'\r\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized'\r\nimport {\r\n  Card,\r\n  Button,\r\n  useUser,\r\n  EventsContext,\r\n  EventRow,\r\n  InfiniteList,\r\n  I18nContext,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { INews, IEvent } from '../../../../../interfaces'\r\n// Helpers\r\nimport { isRowLoaded, loadMoreRows, isEventNew } from './helper'\r\n\r\ninterface IEventsListProps {\r\n  events: INews[]\r\n  newEvents: IEvent[]\r\n  hasNextPage: boolean\r\n}\r\n\r\n// Default cache for cell mesurement\r\nconst cache = new CellMeasurerCache({\r\n  fixedWidth: true\r\n})\r\n\r\nconst rowRenderer = (events: INews[], newEvents: IEvent[]) => ({\r\n  index,\r\n  parent,\r\n  style,\r\n  key\r\n}: any) => {\r\n  return (\r\n    <CellMeasurer\r\n      key={key}\r\n      cache={cache}\r\n      columnIndex={0}\r\n      rowIndex={index}\r\n      parent={parent}\r\n    >\r\n      {({ measure }: any) => (\r\n        <div style={style}>\r\n          {events[index] ? (\r\n            <EventRow\r\n              data={events[index]}\r\n              isNew={isEventNew(newEvents, events, index)}\r\n              measure={measure}\r\n              index={index}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </CellMeasurer>\r\n  )\r\n}\r\n\r\nexport const EventsList = ({\r\n  events,\r\n  newEvents,\r\n  hasNextPage\r\n}: IEventsListProps) => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const { user } = useUser()\r\n  const { dispatch } = React.useContext(EventsContext)\r\n  const newEventsCount = user && newEvents ? newEvents.length : 0\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {newEventsCount > 0 && (\r\n        <Button\r\n          className=\"is-fullwidth is-dark\"\r\n          style={{ borderRadius: 0 }}\r\n          onClick={() => {\r\n            dispatch({ type: 'NEW_EVENTS_READED' })\r\n          }}\r\n        >\r\n          {translate('MARK_AS_READ')}\r\n        </Button>\r\n      )}\r\n\r\n      {events && events.length > 0 ? (\r\n        <InfiniteList\r\n          data={events}\r\n          hasNextPage={hasNextPage}\r\n          isRowLoaded={isRowLoaded}\r\n          loadMoreRows={loadMoreRows(Socket)}\r\n          rowRenderer={rowRenderer(events, newEvents)}\r\n          cache={cache}\r\n        />\r\n      ) : (\r\n        <Card style={{ padding: '2rem' }}>\r\n          <p className=\"is-size-5 has-text-centered\">\r\n            Aucun vnement en cours dans cette catgorie\r\n          </p>\r\n        </Card>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  useUser,\r\n  Card,\r\n  I18nContext,\r\n  Grid,\r\n  Button,\r\n  AuthentificationForm,\r\n  Gravatar\r\n} from '../../../components'\r\n\r\nexport const ProfilCard = ({ location }: any) => {\r\n  const { user, logout, isConnectionPending } = useUser()\r\n  const { translate } = React.useContext(I18nContext)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isConnectionPending ? (\r\n        <Card style={{ padding: '1rem' }}>\r\n          {user ? (\r\n            <React.Fragment>\r\n              <div className=\"has-text-centered\">\r\n                <Gravatar email={user.email} />\r\n                <br />\r\n                <p>{user.email}</p>\r\n                <Button\r\n                  onClick={logout}\r\n                  className=\"is-danger is-fullwidth is-outlined\"\r\n                  style={{ marginTop: '0.5rem' }}\r\n                >\r\n                  {translate('SIGN_OUT')}\r\n                </Button>\r\n                <hr />\r\n              </div>\r\n              <Grid style={{ gridTemplateColumns: '1fr 1fr' }}>\r\n                <Grid style={{ gridTemplateRows: '1fr 1fr' }}>\r\n                  <div className=\"has-text-weight-semibold\">Votes</div>\r\n                  <div className=\"has-text-info has-text-weight-bold\">\r\n                    {user.downVotes.length + user.upVotes.length}\r\n                  </div>\r\n                </Grid>\r\n                <Grid style={{ gridTemplateRows: '1fr 1fr' }}>\r\n                  <div className=\"has-text-weight-semibold\">Textes suivis</div>\r\n                  <div className=\"has-text-info has-text-weight-bold\">\r\n                    {user.followedTexts.length}\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            </React.Fragment>\r\n          ) : (\r\n            <AuthentificationForm location={location} />\r\n          )}\r\n        </Card>\r\n      ) : null}\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Card, Link, I18nContext } from '../../../components'\r\nimport { path } from '../../../config'\r\n\r\nexport const OtherLinksCard = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n\r\n  return (\r\n    <Card style={{ padding: '1rem' }}>\r\n      <p\r\n        className=\"is-size-5 has-text-weight-semibold\"\r\n        style={{ margin: '0.5rem 0 0.5rem 1rem' }}\r\n      >\r\n        A propos d'Emendare\r\n      </p>\r\n      <Link to={path.code} className=\"navbar-item\">\r\n        {translate('ETHIC_CODE')}\r\n      </Link>\r\n      <Link to={path.contributors} className=\"navbar-item\">\r\n        {translate('CONTRIBUTORS')}\r\n      </Link>\r\n      <Link to={path.legal} className=\"navbar-item\">\r\n        {translate('LEGAL_MENTIONS')}\r\n      </Link>\r\n      <Link to=\"https://github.com/jimmyleray/Emendare\" className=\"navbar-item\">\r\n        {translate('SOURCES')}\r\n      </Link>\r\n    </Card>\r\n  )\r\n}\r\n","import { IArgument } from '../../../../../interfaces'\r\nimport findIndex from 'lodash/findIndex'\r\n\r\n/**\r\n * Sort the list of arguments depending on the number of up votes\r\n * @param args list of arguments\r\n */\r\nexport const sortArgumentsByUpVote = (args: IArgument[]) => args.sort(compare)\r\n\r\nconst compare = (a: IArgument, b: IArgument) => {\r\n  if (a.upVotesCount > b.upVotesCount) {\r\n    return -1\r\n  }\r\n  if (a.upVotesCount < b.upVotesCount) {\r\n    return 1\r\n  } else {\r\n    if (new Date(a.created).getTime() > new Date(b.created).getTime()) {\r\n      return -1\r\n    }\r\n    if (new Date(a.created).getTime() < new Date(b.created).getTime()) {\r\n      return 1\r\n    }\r\n    return 0\r\n  }\r\n}\r\n/**\r\n * Return the index of the most popular up argument\r\n * @param sortedArgumments List of arguments sorted by number of up vote\r\n */\r\nexport const getIndexMostFamousUpArgument = (sortedArgumments: IArgument[]) =>\r\n  findIndex(sortedArgumments, (argument: IArgument) => argument.type === 'up')\r\n\r\n/**\r\n * Return the index of the most popular down argument\r\n * @param sortedArgumments List of arguments sorted by number of down vote\r\n */\r\nexport const getIndexMostFamousDownArgument = (sortedArgumments: IArgument[]) =>\r\n  findIndex(sortedArgumments, (argument: IArgument) => argument.type === 'down')\r\n\r\n/**\r\n * Return the list of arguments sorted by the number of up votes and the first\r\n * argument is the the most popular up one et the second argument is the most popular down one\r\n * @param args list of arguments\r\n */\r\nexport const getListArgumentsWithPopularSorting = (args: IArgument[]) => {\r\n  const sortedArgs = sortArgumentsByUpVote(args)\r\n  // Most popular up argument\r\n  const indexUpArgument = getIndexMostFamousUpArgument(sortedArgs)\r\n  // Most popular down argument\r\n  let indexDownArgument = getIndexMostFamousDownArgument(sortedArgs)\r\n  // List of the most popular arguments\r\n  const popularArguments: IArgument[] = []\r\n\r\n  // Check if there are some up or down arguments and if they have more than 1 upVotesCount\r\n  if (indexUpArgument > -1 && sortedArgs[indexUpArgument].upVotesCount > 0) {\r\n    popularArguments.push(sortedArgs[indexUpArgument])\r\n    sortedArgs.splice(indexUpArgument, 1)\r\n    indexDownArgument--\r\n  }\r\n  if (\r\n    indexDownArgument > -1 &&\r\n    sortedArgs[indexDownArgument].upVotesCount > 0\r\n  ) {\r\n    popularArguments.push(sortedArgs[indexDownArgument])\r\n    sortedArgs.splice(indexDownArgument, 1)\r\n  }\r\n  return popularArguments.concat(sortedArgs)\r\n}\r\n","import React from 'react'\r\nimport {\r\n  ModalContainer,\r\n  EditArgument,\r\n  ArgumentsList,\r\n  Divider,\r\n  AmendEventCard\r\n} from '../../../components'\r\n// Interfaces\r\nimport { IAmend, IUser } from '../../../../../interfaces'\r\n// Helpers\r\nimport { getListArgumentsWithPopularSorting } from './helpers'\r\n\r\ninterface IArgumentModalProps {\r\n  /** Related amend */\r\n  amend: IAmend\r\n  /** User data */\r\n  user: IUser | null\r\n}\r\nexport const ArgumentModal = ({ amend, user }: IArgumentModalProps) => {\r\n  return (\r\n    <ModalContainer.Modal>\r\n      <div className=\"modal-card\" style={{ flex: 1, height: '100%' }}>\r\n        <div className=\"modal-card-head\">\r\n          <p className=\"modal-card-title is-size-5\">Dtails de l'amendement</p>\r\n          <ModalContainer.Modal.Close>\r\n            <button className=\"delete\" aria-label=\"close\" />\r\n          </ModalContainer.Modal.Close>\r\n        </div>\r\n        <div className=\"modal-card-body\">\r\n          <AmendEventCard user={user} target={amend} />\r\n          <Divider content=\"Liste des arguments\" />\r\n          <ArgumentsList\r\n            amendID={amend.id}\r\n            args={React.useMemo(\r\n              () => getListArgumentsWithPopularSorting(amend.arguments),\r\n              [amend.arguments]\r\n            )}\r\n            hasNextPage={false}\r\n          />\r\n        </div>\r\n        <div className=\"modal-card-foot\">\r\n          <EditArgument amendID={amend.id} />\r\n        </div>\r\n      </div>\r\n    </ModalContainer.Modal>\r\n  )\r\n}\r\n","// Dependencies\r\nimport React, { useRef } from 'react'\r\nimport {\r\n  CellMeasurerCache,\r\n  List,\r\n  InfiniteLoader,\r\n  WindowScroller,\r\n  AutoSizer\r\n} from 'react-virtualized'\r\n\r\n// Interface\r\ninterface INewsListProps {\r\n  /** List of events */\r\n  data: any[]\r\n  /** Tell if there are more events to be loaded */\r\n  hasNextPage: boolean\r\n  /** tell if the row is loaded  */\r\n  isRowLoaded: (data: any[]) => any\r\n  /** fetch more data from the API */\r\n  loadMoreRows: (data: any[], hasNextPage: boolean) => any\r\n  /** Rendering of the row */\r\n  rowRenderer: any\r\n  /** Cache for cell height and width */\r\n  cache: CellMeasurerCache\r\n  /** Enable windowScroller */\r\n  isWindowScroller?: boolean\r\n}\r\n\r\nexport const InfiniteList = ({\r\n  data,\r\n  hasNextPage,\r\n  isRowLoaded,\r\n  loadMoreRows,\r\n  rowRenderer,\r\n  cache,\r\n  isWindowScroller = true\r\n}: INewsListProps) => {\r\n  const refList = useRef<any>()\r\n  const rowCount = hasNextPage ? data.length + 1 : data.length\r\n\r\n  return data.length > 0 ? (\r\n    <div style={{ height: '100%' }}>\r\n      <InfiniteLoader\r\n        isRowLoaded={isRowLoaded(data)}\r\n        loadMoreRows={loadMoreRows(data, hasNextPage)}\r\n        rowCount={rowCount}\r\n      >\r\n        {({ onRowsRendered }) =>\r\n          isWindowScroller ? (\r\n            <WindowScroller>\r\n              {({ height, isScrolling, scrollTop, onChildScroll }) => (\r\n                <AutoSizer\r\n                  disableHeight\r\n                  onResize={() => {\r\n                    cache.clearAll()\r\n                    if (refList && refList.current) {\r\n                      refList.current.recomputeRowHeights()\r\n                    }\r\n                  }}\r\n                >\r\n                  {({ width }) => (\r\n                    <List\r\n                      autoHeight\r\n                      scrollTop={scrollTop}\r\n                      ref={refList}\r\n                      onScroll={onChildScroll}\r\n                      width={width}\r\n                      height={height}\r\n                      isScrolling={isScrolling}\r\n                      rowCount={rowCount}\r\n                      deferredMeasurementCache={cache}\r\n                      rowHeight={cache.rowHeight}\r\n                      estimatedRowSize={200}\r\n                      onRowsRendered={onRowsRendered}\r\n                      rowRenderer={rowRenderer}\r\n                      overscanRowCount={0}\r\n                    />\r\n                  )}\r\n                </AutoSizer>\r\n              )}\r\n            </WindowScroller>\r\n          ) : (\r\n            <AutoSizer\r\n              onResize={() => {\r\n                cache.clearAll()\r\n                if (refList && refList.current) {\r\n                  refList.current.recomputeRowHeights()\r\n                }\r\n              }}\r\n            >\r\n              {({ width, height }) => {\r\n                return (\r\n                  <List\r\n                    autoHeight\r\n                    ref={refList}\r\n                    width={width}\r\n                    height={height}\r\n                    rowCount={rowCount}\r\n                    deferredMeasurementCache={cache}\r\n                    rowHeight={cache.rowHeight}\r\n                    estimatedRowSize={200}\r\n                    onRowsRendered={onRowsRendered}\r\n                    rowRenderer={rowRenderer}\r\n                    overscanRowCount={0}\r\n                  />\r\n                )\r\n              }}\r\n            </AutoSizer>\r\n          )\r\n        }\r\n      </InfiniteLoader>\r\n    </div>\r\n  ) : null\r\n}\r\n","import { IArgument } from '../../../../../interfaces'\r\n\r\n/**\r\n * Tell if the row is loaded\r\n * @param data List of events we want to render\r\n * @param index Index of the row\r\n */\r\nexport const isRowLoaded = (data: IArgument[]) => ({ index }: any) =>\r\n  !!data[index]\r\n\r\n/**\r\n * Fetch data from a API\r\n * @param data List of events we want to render\r\n */\r\nexport const loadMoreRows = (\r\n  data: IArgument[],\r\n  hasNextPage: boolean\r\n) => async () => {\r\n  if (hasNextPage) {\r\n    // TODO: Fetch args\r\n  }\r\n}\r\n","/* eslint-disable sonarjs/cognitive-complexity */\r\nimport React from 'react'\r\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized'\r\nimport { ArgumentRow, InfiniteList } from '../../../components'\r\nimport { IArgument } from '../../../../../interfaces'\r\n// Helpers\r\nimport { isRowLoaded, loadMoreRows } from './helper'\r\n\r\ninterface IEventsListProps {\r\n  args: IArgument[]\r\n  amendID: string\r\n  hasNextPage: boolean\r\n}\r\n\r\n// Default cache for cell mesurement\r\nconst cache = new CellMeasurerCache({\r\n  fixedWidth: true\r\n})\r\n\r\nconst rowRenderer = (args: IArgument[], amendID: string) => ({\r\n  index,\r\n  parent,\r\n  style,\r\n  key\r\n}: any) => {\r\n  return (\r\n    <CellMeasurer\r\n      key={key}\r\n      cache={cache}\r\n      columnIndex={0}\r\n      rowIndex={index}\r\n      parent={parent}\r\n    >\r\n      {({ measure }: any) => (\r\n        <div style={style}>\r\n          {args[index] ? (\r\n            <ArgumentRow\r\n              data={args[index]}\r\n              amendID={amendID}\r\n              measure={measure}\r\n              index={index}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </CellMeasurer>\r\n  )\r\n}\r\n\r\nexport const ArgumentsList = ({\r\n  args,\r\n  amendID,\r\n  hasNextPage\r\n}: IEventsListProps) => {\r\n  return (\r\n    <div style={{ height: '100%' }}>\r\n      {args && args.length > 0 ? (\r\n        <InfiniteList\r\n          data={args}\r\n          hasNextPage={hasNextPage}\r\n          isRowLoaded={isRowLoaded}\r\n          loadMoreRows={loadMoreRows}\r\n          rowRenderer={rowRenderer(args, amendID)}\r\n          cache={cache}\r\n          isWindowScroller={false}\r\n        />\r\n      ) : (\r\n        <p className=\"is-size-5 has-text-centered\">\r\n          Aucun argument pour ce vote.\r\n          <br />\r\n          Soyez le premier  prsenter votre avis ?\r\n        </p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Button, Icon, Page, ApiContext } from '../../../components'\r\nimport { path } from '../../../config'\r\n\r\ninterface IActivatePageProps {\r\n  match: any\r\n}\r\n\r\nexport const ActivatePage = ({ match }: IActivatePageProps) => {\r\n  const [pending, setPending] = React.useState(true)\r\n  const [activated, setActivated] = React.useState(false)\r\n  const [error, setError] = React.useState<any>(null)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  React.useEffect(() => {\r\n    Socket.fetch('activation', {\r\n      activationToken: match.params.id\r\n    })\r\n      .then(() => {\r\n        setPending(false)\r\n        setActivated(true)\r\n        setError(null)\r\n      })\r\n      .catch((error: any) => {\r\n        setPending(false)\r\n        setError(error)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <Page title=\"Activation\">\r\n      <div className=\"field has-text-centered\">\r\n        <Icon\r\n          type={'solid'}\r\n          name={\r\n            pending\r\n              ? 'fa-question-circle'\r\n              : activated\r\n              ? 'fa-check-circle has-text-success'\r\n              : 'fa-times-circle has-text-danger'\r\n          }\r\n          className={'fa-3x is-large'}\r\n          title=\"Activ\"\r\n        />\r\n        <h1 className=\"is-size-3\">Activation de votre compte</h1>\r\n        <h2 className=\"is-size-5\">\r\n          {pending\r\n            ? \"Votre compte est en cours d'activation\"\r\n            : activated\r\n            ? 'Votre compte a bien t activ'\r\n            : error\r\n            ? error.message\r\n            : \"Votre compte n'a pas t activ\"}\r\n        </h2>\r\n      </div>\r\n\r\n      {activated && (\r\n        <div className=\"field is-grouped is-grouped-centered\">\r\n          <p className=\"control\">\r\n            <Button\r\n              to={path.authentification}\r\n              className=\"is-success has-text-weight-semibold\"\r\n            >\r\n              Se connecter  mon compte\r\n            </Button>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Hero, Page, I18nContext } from '../../../components'\r\n\r\nexport const CodePage = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n\r\n  return (\r\n    <Page title={translate('ETHIC_CODE')}>\r\n      <Hero\r\n        title={translate('ETHIC_CODE')}\r\n        subtitle={translate('OUR_MOTIVATIONS')}\r\n      />\r\n      <div>\r\n        <p>{translate('ETHIC_CODE_1_1')}</p>\r\n        <p>{translate('ETHIC_CODE_1_2')}</p>\r\n        <p>{translate('ETHIC_CODE_1_3')}</p>\r\n        <br />\r\n        <p>{translate('ETHIC_CODE_2_1')}</p>\r\n        <p>{translate('ETHIC_CODE_2_2')}</p>\r\n        <p>{translate('ETHIC_CODE_2_3')}</p>\r\n        <br />\r\n        <p>{translate('ETHIC_CODE_3_1')}</p>\r\n        <p>{translate('ETHIC_CODE_3_2')}</p>\r\n        <p>{translate('ETHIC_CODE_3_3')}</p>\r\n      </div>\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { ApiContext, Page, Button, Notification } from '../../../components'\r\nimport { path } from '../../../config'\r\n\r\nexport const CreatePage = () => {\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n  const [redirect, setRedirect] = React.useState(false)\r\n  const [error, setError] = React.useState<any>(null)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const confirm = async (event: any) => {\r\n    event.preventDefault()\r\n\r\n    await Socket.fetch('postText', {\r\n      name,\r\n      description\r\n    })\r\n      .then(async () => {\r\n        setRedirect(true)\r\n      })\r\n      .catch((err: any) => {\r\n        setError(err)\r\n      })\r\n  }\r\n\r\n  if (redirect) {\r\n    return <Redirect to={path.home} />\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Cration de texte\">\r\n      <form onSubmit={confirm}>\r\n        <div className=\"field\">\r\n          <label htmlFor=\"name\" className=\"label\">\r\n            Nom du nouveau texte\r\n            <div className=\"control\">\r\n              <input\r\n                required\r\n                name=\"name\"\r\n                className=\"input\"\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={event => {\r\n                  setName(event.target.value)\r\n                }}\r\n                placeholder=\"Nom du nouveau texte\"\r\n              />\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label htmlFor=\"description\" className=\"label\">\r\n            Description du nouveau texte\r\n            <div className=\"control\">\r\n              <input\r\n                required\r\n                name=\"description\"\r\n                className=\"input\"\r\n                type=\"text\"\r\n                value={description}\r\n                onChange={event => {\r\n                  setDescription(event.target.value)\r\n                }}\r\n                placeholder=\"Description du nouveau texte\"\r\n              />\r\n            </div>\r\n          </label>\r\n        </div>\r\n        <div className=\"has-text-centered\" style={{ marginTop: '1rem' }}>\r\n          <Button\r\n            className=\"is-fullwidth is-info\"\r\n            disabled={!name || !description}\r\n            type=\"submit\"\r\n          >\r\n            Confirmer la cration de ce texte\r\n          </Button>\r\n        </div>\r\n\r\n        {error && (\r\n          <React.Fragment>\r\n            <br />\r\n            <Notification className=\"is-danger has-text-centered\">\r\n              {error.message}\r\n            </Notification>\r\n          </React.Fragment>\r\n        )}\r\n      </form>\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Avatar,\r\n  Hero,\r\n  Page,\r\n  I18nContext,\r\n  ApiContext\r\n} from '../../../components'\r\n\r\nconst isHuman = (contributor: any) => contributor.type === 'User'\r\nconst isBot = (contributor: any) => contributor.type === 'Bot'\r\n\r\nconst AvatarCell = (contributor: any) => (\r\n  <div key={contributor.id} className=\"column is-4\">\r\n    <Avatar\r\n      link={contributor.html_url}\r\n      imgUrl={contributor.avatar_url}\r\n      name={contributor.login}\r\n    />\r\n  </div>\r\n)\r\n\r\nconst AvatarsRow = (contributors: any[], isType: any) => (\r\n  <React.Fragment>\r\n    <br />\r\n    <br />\r\n    <div\r\n      className=\"columns has-text-centered is-flex\"\r\n      style={{ flexWrap: 'wrap', justifyContent: 'center' }}\r\n    >\r\n      {contributors.filter(isType).map(AvatarCell)}\r\n    </div>\r\n  </React.Fragment>\r\n)\r\n\r\nexport const ContributorsPage = () => {\r\n  const [contributors, setContributors] = React.useState<any>([])\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  React.useEffect(() => {\r\n    Socket.fetch('contributors').then(setContributors)\r\n    return () => {\r\n      Socket.off('contributors')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <I18nContext.Consumer>\r\n      {({ translate }) => (\r\n        <Page title=\"Contributeurs\">\r\n          <Hero\r\n            title={translate('CONTRIBUTORS_THANKS')}\r\n            subtitle={translate('CONTRIBUTE_GITHUB')}\r\n            className=\"has-text-centered\"\r\n          />\r\n          {contributors.length > 1 && (\r\n            <div className=\"is-size-5 has-text-centered\">\r\n              <span className=\"is-size-4\">{translate('THANKS_TO_USERS')}</span>\r\n              {AvatarsRow(contributors, isHuman)}\r\n              <br />\r\n              <span className=\"is-size-4\">{translate('THANKS_TO_TOOLS')}</span>\r\n              {AvatarsRow(contributors, isBot)}\r\n            </div>\r\n          )}\r\n        </Page>\r\n      )}\r\n    </I18nContext.Consumer>\r\n  )\r\n}\r\n","/*\r\n * Page d'amendement\r\n * Le but de cette page est de permettre aux utilisateurs :\r\n * - de visualiser la version actuelle du texte\r\n * - d'diter le texte et de visualiser les modification\r\n * - d'crire un argumentaire pour dfendre l'amendement\r\n * - de valider l'ajout de l'amendement  la liste du texte\r\n * - TODO : de mettre  jour l'amendement sur la dernire version du texte\r\n * - d'accder au dtail d'un amendement\r\n */\r\n\r\nimport React from 'react'\r\nimport { DataContext, ErrorPage, Edit, Page } from '../../../components'\r\n\r\nexport const EditPage = (props: any) => {\r\n  const data = React.useContext(DataContext)\r\n  const text = data.get('text')(props.match.params.id)\r\n\r\n  return text && text.data ? (\r\n    <Page title={'Amendement de ' + text.data.name}>\r\n      <Edit data={text.data} />\r\n    </Page>\r\n  ) : text && text.error ? (\r\n    <ErrorPage error={text.error} />\r\n  ) : null\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  EventsList,\r\n  Page,\r\n  I18nContext,\r\n  useUser,\r\n  DataContext,\r\n  EventsContext,\r\n  ApiContext\r\n} from '../../../components'\r\n// Helpers\r\nimport {\r\n  getListTargets,\r\n  filterEventsByUserTextFollowed\r\n} from '../../../helpers'\r\n\r\nexport const HomePage = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const { user } = useUser()\r\n  const { get } = React.useContext(DataContext)\r\n  const { events, hasNextPage, newEvents } = React.useContext(EventsContext)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const eventsTargets = getListTargets(events, get)\r\n  const filteredEvents = user\r\n    ? filterEventsByUserTextFollowed(eventsTargets, user)\r\n    : eventsTargets\r\n\r\n  React.useEffect(() => {\r\n    if (hasNextPage) {\r\n      Socket.emit('events')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Page title={translate('HOME')} style={{ padding: 0 }}>\r\n      <EventsList\r\n        events={filteredEvents}\r\n        newEvents={newEvents}\r\n        hasNextPage={hasNextPage}\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Hero, Page, I18nContext } from '../../../components'\r\n\r\nexport const LegalPage = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n\r\n  return (\r\n    <Page title={translate('LEGAL_MENTIONS')}>\r\n      <Hero\r\n        title={translate('LEGAL_MENTIONS')}\r\n        subtitle={translate('HOST_CONTACT_DETAILS')}\r\n        className=\"has-text-centered\"\r\n      />\r\n      <p className=\"has-text-centered\">\r\n        {translate('HOST_BY')}{' '}\r\n        <a href=\"https://www.clever-cloud.com/en/legal-terms\">Clever Cloud</a>\r\n      </p>\r\n    </Page>\r\n  )\r\n}\r\n","/*\r\n * Page de profil\r\n * Le but de cette page est de permettre aux utilisateurs :\r\n * - de visualiser les informations lies  son compte\r\n * - de supprimer leur compte et leurs donnes\r\n * - de changer d'email\r\n * - de changer de mot de passe\r\n * - de paramtrer les dtails de son compte\r\n */\r\n\r\nimport React from 'react'\r\nimport {\r\n  Button,\r\n  Page,\r\n  NotificationSettings,\r\n  UserCredentials,\r\n  I18nContext,\r\n  useUser,\r\n  Hero,\r\n  Tabs\r\n} from '../../../components'\r\n\r\nexport const ProfilePage = () => {\r\n  const userContext = useUser()\r\n  const { translate } = React.useContext(I18nContext)\r\n\r\n  return (\r\n    <Page title={translate('MY_PROFILE')}>\r\n      <Hero\r\n        title={translate('MY_PROFILE')}\r\n        subtitle={userContext.user ? userContext.user.email : ''}\r\n        className=\"has-text-centered\"\r\n      />\r\n      <div className=\"has-text-centered\">\r\n        <Button onClick={userContext.logout} className=\"is-danger is-medium\">\r\n          {translate('SIGN_OUT')}\r\n        </Button>\r\n      </div>\r\n      <br />\r\n      <Tabs tabsName={['notifications', 'settings', 'data']}>\r\n        <Tabs.Menu className=\"is-fullwidth\">\r\n          <Tabs.Tab to=\"notifications\">{translate('NOTIFICATIONS')}</Tabs.Tab>\r\n          <Tabs.Tab to=\"settings\">{translate('PARAMETERS')}</Tabs.Tab>\r\n        </Tabs.Menu>\r\n        {userContext.user && (\r\n          <React.Fragment>\r\n            <Tabs.Content for=\"notifications\">\r\n              <NotificationSettings />\r\n            </Tabs.Content>\r\n            <Tabs.Content for=\"settings\">\r\n              <UserCredentials user={userContext.user} />\r\n            </Tabs.Content>\r\n          </React.Fragment>\r\n        )}\r\n      </Tabs>\r\n    </Page>\r\n  )\r\n}\r\n","/*\r\n * Page d'erreur introuvable\r\n * Le but de cette page est de permettre aux utilisateurs :\r\n * - de comprendre que la page demande est introuvable\r\n * - d'accder rapidement  la page d'acceuil\r\n */\r\n\r\nimport React from 'react'\r\nimport { Button, Hero, Page, I18nContext } from '../../../components'\r\nimport { path } from '../../../config'\r\n\r\nconst defaultError = {\r\n  code: 404,\r\n  message: \"Oups, cette page n'existe pas ou plus\"\r\n}\r\n\r\nexport const ErrorPage = ({ error = defaultError }) => {\r\n  const { translate } = React.useContext(I18nContext)\r\n\r\n  return (\r\n    <Page title=\"Erreur\">\r\n      <Hero\r\n        title={translate('ERROR') + ' ' + error.code}\r\n        subtitle={error.message}\r\n        className=\"has-text-centered\"\r\n      />\r\n      <div className=\"has-text-centered\">\r\n        <Button to={path.home} className=\"has-text-weight-semibold is-primary\">\r\n          {translate('BACK_HOME')}\r\n        </Button>\r\n      </div>\r\n    </Page>\r\n  )\r\n}\r\n","/*\r\n * Page d'attente\r\n * Le but de cette page est de permettre aux utilisateurs :\r\n * - de patienter en attendant la fin d'un chargement\r\n */\r\n\r\nimport React from 'react'\r\nimport { Hero, Page } from '../../../components'\r\n\r\nexport const PendingPage = () => {\r\n  return (\r\n    <Page title=\"Chargement\">\r\n      <Hero\r\n        title=\"Chargement en cours\"\r\n        subtitle=\"Merci de patentier quelques instants\"\r\n        className=\"has-text-centered\"\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n","/**\r\n * Reiniliaze password Page\r\n * The goal of this page is to allow the user to receive, by mail,\r\n * a new password\r\n */\r\nimport React from 'react'\r\nimport {\r\n  Page,\r\n  Icon,\r\n  Button,\r\n  Notification,\r\n  ApiContext\r\n} from '../../../components'\r\nimport { IError } from '../../../../../interfaces'\r\n\r\nexport const ResetPage = () => {\r\n  const [email, setEmail] = React.useState('')\r\n  const [error, setError] = React.useState<IError | null>(null)\r\n  const [send, setSend] = React.useState(false)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const submit = (event: any) => {\r\n    event.preventDefault()\r\n\r\n    Socket.fetch('reset-password', {\r\n      email\r\n    })\r\n      .then(() => {\r\n        setSend(true)\r\n        setError(null)\r\n      })\r\n      .catch(setError)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      Socket.off('reset-password')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Page title=\"Reset password\">\r\n      <form onSubmit={submit} style={{ maxWidth: '350px', margin: 'auto' }}>\r\n        <p className=\"is-size-3 has-text-centered\">Mot de passe oubli</p>\r\n        <br />\r\n        {!send && (\r\n          <React.Fragment>\r\n            <div className=\"field\">\r\n              <div className=\"control has-icons-left has-icons-right\">\r\n                <input\r\n                  autoFocus={true}\r\n                  placeholder=\"Email\"\r\n                  onChange={event => {\r\n                    setEmail(event.target.value)\r\n                  }}\r\n                  value={email}\r\n                  className=\"input is-medium\"\r\n                  type=\"email\"\r\n                  aria-label=\"email input\"\r\n                />\r\n                <Icon\r\n                  type={'solid'}\r\n                  name=\"fa-envelope\"\r\n                  className=\"is-medium is-left\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\" has-text-centered\">\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"is-medium is-success is-fullwidth\"\r\n                disabled={!email}\r\n              >\r\n                Rinitialiser le mot de passe\r\n              </Button>\r\n            </div>\r\n            <br />\r\n            {error && (\r\n              <Notification className=\"is-danger has-text-centered\">\r\n                {error.message}\r\n              </Notification>\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n        {send && (\r\n          <Notification className=\"is-success has-text-centered\">\r\n            Vous allez recevoir dans quelques instants un email avec votre\r\n            nouveau mot de passe. Pensez le cas chant  vrifier vos spams.\r\n          </Notification>\r\n        )}\r\n      </form>\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { I18nContext, HomePage, DataContext } from '../../../components'\r\nimport { IEvent } from '../../../../../interfaces'\r\n\r\nexport const SharePage = ({ match }: any) => {\r\n  // const { translate } = React.useContext(I18nContext)\r\n  // const { get } = React.useContext(DataContext)\r\n  // const event: IResponse<IEvent> = get('event')(match.params.id)\r\n\r\n  return <HomePage />\r\n}\r\n","import React from 'react'\r\nimport { Page, ProfilCard } from '../../../components'\r\n\r\ninterface IAuthentificationPageProps {\r\n  location?: any\r\n}\r\n\r\nexport const AuthentificationPage = ({\r\n  location\r\n}: IAuthentificationPageProps) => (\r\n  <Page title=\"Authentification\" style={{ padding: 0 }}>\r\n    <ProfilCard location={location} />\r\n  </Page>\r\n)\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  EventsList,\r\n  Page,\r\n  I18nContext,\r\n  useUser,\r\n  DataContext,\r\n  EventsContext,\r\n  Link,\r\n  Button,\r\n  Icon,\r\n  ApiContext\r\n} from '../../../components'\r\n// Helpers\r\nimport {\r\n  getListTargets,\r\n  filterEventsByUserTextFollowed\r\n} from '../../../helpers'\r\nimport { path } from '../../../config'\r\n\r\nexport const TextsPage = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const { user } = useUser()\r\n  const { get } = React.useContext(DataContext)\r\n  const { events, hasNextPage, newEvents } = React.useContext(EventsContext)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const eventsTargets = getListTargets(\r\n    events.filter(event => event.target.type === 'text'),\r\n    get\r\n  )\r\n\r\n  const filteredEvents = user\r\n    ? filterEventsByUserTextFollowed(eventsTargets, user)\r\n    : eventsTargets\r\n\r\n  React.useEffect(() => {\r\n    if (hasNextPage) {\r\n      Socket.emit('events')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {user && (\r\n        <Link to={path.create}>\r\n          <Button\r\n            className=\"is-info is-fullwidth\"\r\n            style={{ marginBottom: '1rem' }}\r\n          >\r\n            <Icon name=\"fa-plus\" />\r\n            <span>{translate('ADD_A_TEXT')}</span>\r\n          </Button>\r\n        </Link>\r\n      )}\r\n      <Page title={translate('HOME')} style={{ padding: 0 }}>\r\n        <EventsList\r\n          events={filteredEvents}\r\n          newEvents={newEvents}\r\n          hasNextPage={hasNextPage}\r\n        />\r\n      </Page>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  EventsList,\r\n  Page,\r\n  I18nContext,\r\n  useUser,\r\n  DataContext,\r\n  EventsContext,\r\n  ApiContext\r\n} from '../../../components'\r\n// Helpers\r\nimport {\r\n  getListTargets,\r\n  filterEventsByUserTextFollowed\r\n} from '../../../helpers'\r\n\r\nexport const VotesPage = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const { user } = useUser()\r\n  const { get } = React.useContext(DataContext)\r\n  const { events, hasNextPage, newEvents } = React.useContext(EventsContext)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const eventsTargets = getListTargets(\r\n    events.filter(event => event.target.type === 'amend'),\r\n    get\r\n  )\r\n  const filteredEvents = user\r\n    ? filterEventsByUserTextFollowed(eventsTargets, user)\r\n    : eventsTargets\r\n\r\n  React.useEffect(() => {\r\n    if (hasNextPage) {\r\n      Socket.emit('events')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Page title={translate('HOME')} style={{ padding: 0 }}>\r\n      <EventsList\r\n        events={filteredEvents}\r\n        newEvents={newEvents}\r\n        hasNextPage={hasNextPage}\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\n// Components\r\nimport {\r\n  EventsList,\r\n  Page,\r\n  I18nContext,\r\n  useUser,\r\n  DataContext,\r\n  EventsContext,\r\n  ApiContext\r\n} from '../../../components'\r\n// Helpers\r\nimport {\r\n  getListTargets,\r\n  filterEventsByUserTextFollowed\r\n} from '../../../helpers'\r\n\r\nexport const ResultsPage = () => {\r\n  const { translate } = React.useContext(I18nContext)\r\n  const { user } = useUser()\r\n  const { get } = React.useContext(DataContext)\r\n  const { events, hasNextPage, newEvents } = React.useContext(EventsContext)\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const eventsTargets = getListTargets(\r\n    events.filter(event => event.target.type === 'result'),\r\n    get\r\n  )\r\n  const filteredEvents = user\r\n    ? filterEventsByUserTextFollowed(eventsTargets, user)\r\n    : eventsTargets\r\n\r\n  React.useEffect(() => {\r\n    if (hasNextPage) {\r\n      Socket.emit('events')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Page title={translate('HOME')} style={{ padding: 0 }}>\r\n      <EventsList\r\n        events={filteredEvents}\r\n        newEvents={newEvents}\r\n        hasNextPage={hasNextPage}\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { ApiContext } from '../../../components'\r\n\r\nexport const DataContext = React.createContext({} as IDataProviderState)\r\n\r\ninterface IDataProviderState {\r\n  memo: any\r\n  listeners: string[]\r\n  get: (type: string) => (id: string) => any\r\n}\r\n\r\ninterface IDataProviderProps {\r\n  Socket: any\r\n}\r\n\r\nexport const DataProvider = ({ children }: any) => {\r\n  const { Socket } = React.useContext(ApiContext)\r\n  return <DataProviderCore Socket={Socket}>{children}</DataProviderCore>\r\n}\r\n\r\nclass DataProviderCore extends React.Component<\r\n  IDataProviderProps,\r\n  IDataProviderState\r\n> {\r\n  private Socket: any\r\n\r\n  constructor(props: IDataProviderProps) {\r\n    super(props)\r\n    this.Socket = props.Socket\r\n\r\n    this.state = {\r\n      memo: {},\r\n      listeners: [],\r\n      get: type => id => {\r\n        const listener = [type, id].join('/')\r\n        if (this.state.memo[type] && this.state.memo[type][id]) {\r\n          return this.state.memo[type][id]\r\n        } else if (!this.state.listeners.includes(listener)) {\r\n          this.Socket.on(listener, ({ error, data }: any) => {\r\n            this.setState(\r\n              prevState => {\r\n                const newState = { ...prevState }\r\n                if (!newState.memo[type]) {\r\n                  newState.memo[type] = {}\r\n                }\r\n                newState.memo[type][id] = { error, data }\r\n                return newState\r\n              },\r\n              () => {\r\n                this.Socket.emit('user')\r\n              }\r\n            )\r\n          })\r\n          this.setState(\r\n            prevState => ({\r\n              ...prevState,\r\n              listeners: [\r\n                ...new Set<string>([...prevState.listeners, listener])\r\n              ]\r\n            }),\r\n            () => {\r\n              this.Socket.emit(type, { id })\r\n            }\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    this.state.listeners.forEach(this.Socket.off)\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <DataContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </DataContext.Provider>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { path } from '../../../config'\r\n\r\nexport const NotificationsContext = React.createContext(\r\n  {} as INotificationsProviderState\r\n)\r\n\r\ninterface INotificationsProviderState {\r\n  redirectTo: string | null\r\n  permission: NotificationPermission\r\n  requestPermission: () => void\r\n}\r\n\r\nexport class NotificationsProvider extends React.Component<\r\n  {},\r\n  INotificationsProviderState\r\n> {\r\n  constructor(props: {}) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      redirectTo: null,\r\n      permission:\r\n        typeof Notification !== 'undefined'\r\n          ? Notification.permission\r\n          : 'denied',\r\n      requestPermission: () => {\r\n        if (Notification) {\r\n          Notification.requestPermission(permission => {\r\n            this.setState({ permission }, () => {\r\n              if (permission === 'granted') {\r\n                const notification = new Notification(\r\n                  'Bienvenue sur Emendare',\r\n                  {\r\n                    body:\r\n                      'Vous pouvez paramtrer en dtails les notifications que vous souhaitez recevoir sur votre page de profil.',\r\n                    icon: '/images/logo-white.png'\r\n                  }\r\n                )\r\n                notification.onclick = () => {\r\n                  this.setState({ redirectTo: path.profile }, () => {\r\n                    this.setState({ redirectTo: null })\r\n                  })\r\n                }\r\n              }\r\n            })\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.redirectTo) {\r\n      return <Redirect to={this.state.redirectTo} />\r\n    }\r\n\r\n    return (\r\n      <NotificationsContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </NotificationsContext.Provider>\r\n    )\r\n  }\r\n}\r\n","import { IUser, IError } from '../../../../../interfaces'\r\n\r\n// State\r\nexport interface IUserProviderState {\r\n  user: IUser | null\r\n  isConnectionPending: boolean\r\n  isConnected: any\r\n  errorAuth: IError | null\r\n}\r\n\r\nexport const initialState: any = {\r\n  user: null,\r\n  isConnectionPending: true,\r\n  isConnected: false,\r\n  errorAuth: null\r\n}\r\n\r\n// Reducer\r\nexport const userReducer = (\r\n  state: IUserProviderState,\r\n  action: { type: string; payload: any }\r\n) => {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      }\r\n    case 'SET_ERROR': {\r\n      return {\r\n        ...state,\r\n        errorAuth: action.payload\r\n      }\r\n    }\r\n    case 'IS_CONNECTION_PENDING':\r\n      return {\r\n        ...state,\r\n        isConnectionPending: action.payload\r\n      }\r\n    default: {\r\n      throw new Error(`Unsupported action type: ${action.type}`)\r\n    }\r\n  }\r\n}\r\n// Actions\r\nexport const setUserAction = (data: IUser | null) => ({\r\n  type: 'SET_USER',\r\n  payload: data\r\n})\r\nexport const setErrorAuthAction = (error: IError | null) => ({\r\n  type: 'SET_ERROR',\r\n  payload: error\r\n})\r\nexport const setIsConnectionPendingAction = (isPending: boolean) => ({\r\n  type: 'IS_CONNECTION_PENDING',\r\n  payload: isPending\r\n})\r\n","import React from 'react'\r\nimport { ApiContext } from '../../../components'\r\nimport { IError, IUser } from '../../../../../interfaces'\r\nimport {\r\n  initialState,\r\n  setErrorAuthAction,\r\n  setIsConnectionPendingAction,\r\n  setUserAction,\r\n  userReducer\r\n} from './store'\r\n\r\ninterface IUserProviderValue {\r\n  user: IUser | null\r\n  isConnectionPending: boolean\r\n  isConnected: any\r\n  logout: any\r\n  register: any\r\n  errorAuth: IError | null\r\n  login: any\r\n}\r\n\r\nconst UserContext = React.createContext({} as IUserProviderValue)\r\n\r\nexport const UserProvider = ({ children }: any) => {\r\n  const { Socket } = React.useContext(ApiContext)\r\n  const [state, dispatch] = React.useReducer(userReducer, initialState)\r\n\r\n  const isConnected = () => state.user !== null\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token')\r\n    dispatch(setUserAction(null))\r\n  }\r\n\r\n  const register = (email: string, password: string) => {\r\n    Socket.fetch('subscribe', { email, password })\r\n      .then(() => {\r\n        dispatch(setErrorAuthAction(null))\r\n        return true\r\n      })\r\n      .catch((err: any) => {\r\n        dispatch(setErrorAuthAction(err))\r\n        return false\r\n      })\r\n  }\r\n\r\n  const login = (email?: string, password?: string) => {\r\n    Socket.fetch('login', { email, password })\r\n      .then(({ user, token }: any) => {\r\n        dispatch(setUserAction(user))\r\n        localStorage.setItem('token', token)\r\n        dispatch(setIsConnectionPendingAction(false))\r\n        dispatch(setErrorAuthAction(null))\r\n        return true\r\n      })\r\n      .catch((err: any) => {\r\n        localStorage.removeItem('token')\r\n        dispatch(setIsConnectionPendingAction(false))\r\n        dispatch(setErrorAuthAction(err))\r\n        return false\r\n      })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Socket.on('user', ({ error, data }: { error: IError; data: IUser }) => {\r\n      if (!error) {\r\n        dispatch(setUserAction(data))\r\n      }\r\n    })\r\n\r\n    const token = localStorage.getItem('token')\r\n\r\n    if (token) {\r\n      login()\r\n    } else {\r\n      dispatch(setIsConnectionPendingAction(false))\r\n    }\r\n\r\n    return () => {\r\n      Socket.off('user')\r\n      Socket.off('login')\r\n      Socket.off('subscribe')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        ...state,\r\n        logout,\r\n        register,\r\n        isConnected,\r\n        login\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useUser = () => {\r\n  const context = React.useContext(UserContext)\r\n\r\n  if (!context) {\r\n    throw new Error('useUser must be used inside the UserProvider')\r\n  }\r\n\r\n  return context\r\n}\r\n","import React from 'react'\r\nimport { translations, translateKey, language } from '../../../config'\r\n\r\ninterface Ii18nProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\ninterface Ii18nStoreState {\r\n  readonly actualLanguage: language\r\n  readonly availableLanguages: string[]\r\n  readonly translate: (key: translateKey) => string\r\n}\r\n\r\ninterface Ii18nProviderState extends Ii18nStoreState {\r\n  readonly dispatch: React.Dispatch<Ii18nStoreAction>\r\n}\r\n\r\ninterface Ii18nStoreAction {\r\n  readonly type: 'setLanguage'\r\n  readonly payload?: any\r\n}\r\n\r\nconst availableLanguages = Object.keys(language)\r\nconst defaultLanguage = language.EN\r\n\r\nconst translate = (lang: language) => (key: translateKey) =>\r\n  translations[key] ? translations[key][lang] || key : key\r\n\r\nconst getNavigatorLanguage = () =>\r\n  navigator.language\r\n    ? navigator.language.indexOf('-') > -1\r\n      ? navigator.language.split('-')[0].toUpperCase()\r\n      : navigator.language.toUpperCase()\r\n    : defaultLanguage\r\n\r\nconst getInitialLanguage = (): language => {\r\n  let lang =\r\n    (localStorage.getItem('language') as language) ||\r\n    getNavigatorLanguage() ||\r\n    defaultLanguage\r\n\r\n  // Verify if the browser language is available in Emendare\r\n  if (availableLanguages.indexOf(lang as language) === -1) {\r\n    lang = defaultLanguage\r\n  }\r\n\r\n  return lang\r\n}\r\n\r\nconst actualLanguage = getInitialLanguage()\r\n\r\nconst initialState = {\r\n  availableLanguages,\r\n  actualLanguage,\r\n  translate: translate(actualLanguage)\r\n}\r\n\r\nconst reducer = (state: Ii18nStoreState, action: Ii18nStoreAction) => {\r\n  switch (action.type) {\r\n    case 'setLanguage':\r\n      localStorage.setItem('language', action.payload)\r\n      return {\r\n        ...state,\r\n        actualLanguage: action.payload,\r\n        translate: translate(action.payload)\r\n      }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}\r\n\r\nexport const I18nContext = React.createContext({} as Ii18nProviderState)\r\n\r\nexport const I18nProvider = ({ children }: Ii18nProviderProps) => {\r\n  const [state, dispatch] = React.useReducer(reducer, initialState)\r\n\r\n  return (\r\n    <I18nContext.Provider value={{ dispatch, ...state }}>\r\n      {children}\r\n    </I18nContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IError, IEvent } from '../../../../../interfaces'\r\nimport { getNewEvent, deleteNewEvent } from '../../../helpers'\r\nimport { useUser, ApiContext } from '../../../components'\r\nimport uniqBy from 'lodash/uniqBy'\r\n\r\ninterface IEventProviderProps {\r\n  children: React.ReactChild\r\n}\r\n\r\ninterface IEventProviderState {\r\n  error: any\r\n  events: IEvent[]\r\n  hasNextPage: boolean\r\n  newEvents: IEvent[]\r\n  dispatch: any\r\n}\r\n\r\nconst initialState: IEventProviderState = {\r\n  events: [],\r\n  hasNextPage: true,\r\n  error: undefined,\r\n  newEvents: [],\r\n  dispatch: null\r\n}\r\n\r\nexport const EventsContext = React.createContext(initialState)\r\n\r\nexport const EventsProvider = ({ children }: IEventProviderProps) => {\r\n  const { user } = useUser()\r\n  const { Socket } = React.useContext(ApiContext)\r\n\r\n  const reducer = (\r\n    previousState: IEventProviderState,\r\n    action: { type: string; payload: any }\r\n  ): IEventProviderState => {\r\n    switch (action.type) {\r\n      case 'ADD_NEW_EVENTS': {\r\n        const events = [...previousState.events]\r\n        const newEvents = [...previousState.newEvents]\r\n\r\n        events.unshift(action.payload.events)\r\n        newEvents.push(action.payload.events)\r\n\r\n        return {\r\n          ...previousState,\r\n          error: action.payload.error,\r\n          events: uniqBy(events, 'id'),\r\n          newEvents: uniqBy(newEvents, 'id')\r\n        }\r\n      }\r\n      case 'ADD_OLD_EVENTS': {\r\n        const events = uniqBy(\r\n          [...previousState.events, ...action.payload.events],\r\n          'id'\r\n        )\r\n\r\n        return {\r\n          ...previousState,\r\n          error: action.payload.error,\r\n          hasNextPage: action.payload.hasNextPage,\r\n          events,\r\n          newEvents: getNewEvent(action.payload.lastEventDate, events)\r\n        }\r\n      }\r\n      case 'DELETE_EVENT': {\r\n        const notSameID = (event: IEvent) =>\r\n          event.id !== action.payload.event.id\r\n\r\n        const events = previousState.events.filter(notSameID)\r\n        const newEvents = previousState.newEvents.filter(notSameID)\r\n\r\n        return {\r\n          ...previousState,\r\n          error: action.payload.error,\r\n          events: uniqBy(events, 'id'),\r\n          newEvents: uniqBy(newEvents, 'id')\r\n        }\r\n      }\r\n      case 'NEW_EVENTS_READED': {\r\n        Socket.emit('updateLastEventDate')\r\n        return {\r\n          ...previousState,\r\n          newEvents: []\r\n        }\r\n      }\r\n      case 'NEW_EVENT_READED': {\r\n        Socket.emit('updateLastEventDate')\r\n        return {\r\n          ...previousState,\r\n          newEvents: deleteNewEvent(\r\n            action.payload.eventId,\r\n            previousState.newEvents\r\n          )\r\n        }\r\n      }\r\n      default: {\r\n        return previousState\r\n      }\r\n    }\r\n  }\r\n\r\n  // Initialization of the state\r\n  const [state, dispatch] = React.useReducer(reducer, initialState)\r\n  // listen socket events\r\n  React.useEffect(() => {\r\n    Socket.on(\r\n      'events',\r\n      ({\r\n        error,\r\n        data\r\n      }: {\r\n        error: IError\r\n        data: { events: IEvent[]; hasNextPage: boolean }\r\n      }) => {\r\n        dispatch({\r\n          type: 'ADD_OLD_EVENTS',\r\n          payload: {\r\n            error,\r\n            events: data.events,\r\n            hasNextPage: data.hasNextPage,\r\n            lastEventDate: user ? user.lastEventDate : null\r\n          }\r\n        })\r\n      }\r\n    )\r\n\r\n    Socket.on(\r\n      'events/new',\r\n      ({ error, data }: { error: IError; data: IEvent }) => {\r\n        dispatch({\r\n          type: 'ADD_NEW_EVENTS',\r\n          payload: { error, events: data }\r\n        })\r\n      }\r\n    )\r\n\r\n    Socket.on(\r\n      'events/delete',\r\n      ({ error, data }: { error: IError; data: IEvent }) => {\r\n        dispatch({\r\n          type: 'DELETE_EVENT',\r\n          payload: { error, event: data }\r\n        })\r\n      }\r\n    )\r\n\r\n    return () => {\r\n      Socket.off('events')\r\n      Socket.off('events/new')\r\n      Socket.off('events/delete')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <EventsContext.Provider\r\n      value={{\r\n        events: state.events,\r\n        hasNextPage: state.hasNextPage,\r\n        error: state.error,\r\n        newEvents: state.newEvents,\r\n        dispatch\r\n      }}\r\n    >\r\n      {children}\r\n    </EventsContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport io from 'socket.io-client'\r\n\r\ninterface IapiProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nconst getSocket = (apiUrl: string) => {\r\n  // Default Socket.io Instance\r\n  const insecureSocket = io(apiUrl)\r\n\r\n  // Overwrited Socket.io Instance\r\n  // With fetch method and token prop\r\n  const secureSocket = {\r\n    on: (name: string, callback: any) => {\r\n      return insecureSocket.on(name, callback)\r\n    },\r\n    off: (name: string) => {\r\n      return insecureSocket.off(name)\r\n    },\r\n    emit: (name: string, data = {}) => {\r\n      return insecureSocket.emit(name, {\r\n        token: localStorage.getItem('token'),\r\n        data\r\n      })\r\n    },\r\n    fetch: (name: string, params = {}) => {\r\n      secureSocket.emit(name, params)\r\n      return new Promise((resolve, reject) => {\r\n        secureSocket.on(name, (res: any) => {\r\n          if (res && res.error) {\r\n            console.warn(name, res.error)\r\n            reject(res.error)\r\n          } else {\r\n            resolve(res && res.data)\r\n          }\r\n          if (name !== 'user') {\r\n            secureSocket.off(name)\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  return secureSocket\r\n}\r\n\r\nexport const ApiContext = React.createContext<any>({})\r\n\r\nexport const ApiProvider = ({ children }: IapiProviderProps) => {\r\n  const [apiUrl, setApiUrl] = React.useState(\r\n    process.env.REACT_APP_API_URL || 'http://localhost:3030'\r\n  )\r\n  const [Socket, setSocket] = React.useState<any>(getSocket(apiUrl))\r\n\r\n  return (\r\n    <ApiContext.Provider value={{ Socket, apiUrl, setApiUrl }}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Navbar,\r\n  Navtabs,\r\n  Alerts,\r\n  Grid,\r\n  ProfilCard,\r\n  OtherLinksCard\r\n} from '../../../components'\r\n\r\ninterface IProps {\r\n  children: React.ReactNode\r\n}\r\n\r\n// Main Application layout\r\nexport const Layout = ({ children }: IProps) => (\r\n  <React.Fragment>\r\n    <header>\r\n      <Navbar />\r\n      <Navtabs />\r\n      <Alerts />\r\n    </header>\r\n    <main>\r\n      <div className=\"container\">\r\n        <Grid\r\n          className=\"grid\"\r\n          style={{\r\n            gridTemplateColumns: '300px auto 300px',\r\n            gridGap: '0 1rem'\r\n          }}\r\n        >\r\n          <div className=\"is-hidden-mobile\">\r\n            <ProfilCard />\r\n          </div>\r\n          <div>{children}</div>\r\n          <div className=\"is-hidden-mobile\">\r\n            <OtherLinksCard />\r\n          </div>\r\n        </Grid>\r\n      </div>\r\n    </main>\r\n  </React.Fragment>\r\n)\r\n","import React from 'react'\r\nimport { Card } from '../../../components'\r\nimport { Title } from '../../../services'\r\n\r\ninterface IProps {\r\n  children: React.ReactNode\r\n  title: string\r\n  style?: React.CSSProperties\r\n}\r\n\r\n// Main Page component that also update document title\r\nexport const Page = ({\r\n  children,\r\n  title,\r\n  style = { padding: '2rem' }\r\n}: IProps) => {\r\n  React.useEffect(() => {\r\n    if (window && window.scroll) {\r\n      window.scroll(0, 0)\r\n    }\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    Title.pageTitle = title\r\n  }, [title])\r\n\r\n  return <Card style={style}>{children}</Card>\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { PendingPage, useUser } from '../../../components'\r\nimport { path } from '../../../config'\r\n\r\n// Wait auto-connect to display private page or redirect to Login\r\nexport const PrivateRoute = ({ component: Component, ...rest }: any) => {\r\n  const { isConnected, isConnectionPending } = useUser()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isConnected() ? (\r\n          <Component {...props} />\r\n        ) : isConnectionPending ? (\r\n          <PendingPage />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: path.authentification,\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  DataProvider,\r\n  NotificationsProvider,\r\n  UserProvider,\r\n  EventsProvider,\r\n  I18nProvider,\r\n  ApiProvider\r\n} from '../../../components'\r\n\r\ninterface IProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nconst providers = [\r\n  NotificationsProvider,\r\n  I18nProvider,\r\n  ApiProvider,\r\n  UserProvider,\r\n  DataProvider,\r\n  EventsProvider\r\n]\r\n\r\n// Return all providers encapsulated in order\r\nexport const Providers = ({ children }: IProps) =>\r\n  providers.reduceRight(\r\n    (acc, Provider) => <Provider>{acc}</Provider>,\r\n    <React.Fragment>{children}</React.Fragment>\r\n  )\r\n","import React from 'react'\r\n// Components\r\nimport { Grid } from '../../../components'\r\n\r\ninterface ICardLayoutProps {\r\n  /** Children nodes */\r\n  children: React.ReactNode\r\n  /** style css */\r\n  style?: React.CSSProperties\r\n  /** additional CSS UI class */\r\n  className?: string\r\n}\r\n\r\nexport const CardLayout = ({ children, ...rest }: ICardLayoutProps) => (\r\n  <Grid className={'card-event__container'} {...rest}>\r\n    {children}\r\n  </Grid>\r\n)\r\n\r\nconst Icon = ({ children, ...rest }: ICardLayoutProps) => (\r\n  <div style={{ gridArea: 'icon' }} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Description = ({ children, ...rest }: ICardLayoutProps) => (\r\n  <div style={{ gridArea: 'description' }} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Detail = ({ children, ...rest }: ICardLayoutProps) => (\r\n  <div style={{ gridArea: 'detail' }} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nconst Footer = ({ children, ...rest }: ICardLayoutProps) => (\r\n  <div style={{ gridArea: 'footer' }} {...rest}>\r\n    {children}\r\n  </div>\r\n)\r\n\r\nCardLayout.Icon = Icon\r\nCardLayout.Description = Description\r\nCardLayout.Detail = Detail\r\nCardLayout.Footer = Footer\r\n","import React from 'react'\r\nimport { IUser } from '../../../../../interfaces'\r\n\r\nexport const withEventCard = (\r\n  measure: any,\r\n  index: number,\r\n  target: any,\r\n  user: IUser | null\r\n) => (Component: React.ComponentType<any>) => (\r\n  <Component {...{ measure, index, target, user }} />\r\n)\r\n","/* eslint-disable sonarjs/cognitive-complexity */\r\n\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\n/* eslint no-console: 0 */\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config?: any) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: any) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: any) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Router } from './components'\r\nimport * as serviceWorker from './worker'\r\nimport 'react-virtualized/styles.css'\r\nimport './styles/app.css'\r\n\r\nReactDOM.render(<Router />, document.getElementById('app-root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register()\r\n","import React from 'react'\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport { Layout, PrivateRoute, Providers } from '../../../components'\r\nimport * as Pages from '../../4_pages'\r\nimport { routes } from '../../../config'\r\nimport capitalize from 'lodash/capitalize'\r\nimport isString from 'lodash/isString'\r\n\r\nexport const Router = () => (\r\n  <BrowserRouter>\r\n    <Providers>\r\n      <Layout>\r\n        <Switch>\r\n          {routes.map(route => {\r\n            // Resolve Default Path\r\n            route.path = isString(route.path) ? route.path : route.path()\r\n\r\n            // Resolve Page Component\r\n            route.component = (Pages as any)[capitalize(route.name) + 'Page']\r\n            // Then return the Route\r\n            return route.private ? (\r\n              <PrivateRoute key={route.path} {...route} />\r\n            ) : (\r\n              <Route\r\n                key={route.path}\r\n                exact={route.exact}\r\n                path={route.path}\r\n                component={route.component}\r\n              />\r\n            )\r\n          })}\r\n          <Route component={Pages.ErrorPage} />\r\n        </Switch>\r\n      </Layout>\r\n    </Providers>\r\n  </BrowserRouter>\r\n)\r\n"],"sourceRoot":""}